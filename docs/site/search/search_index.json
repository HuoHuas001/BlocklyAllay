{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"BlocklyAllay \u6587\u6863","text":"<p>BlocklyAllay \u662f\u4e00\u4e2a\u57fa\u4e8e Blockly \u7684\u53ef\u89c6\u5316\u7f16\u7a0b\u5de5\u5177\uff0c\u7528\u4e8e\u4e3a AllayMC \u670d\u52a1\u5668\u7f16\u5199\u811a\u672c\u3002</p>"},{"location":"#_1","title":"\u7b80\u4ecb","text":"<p>BlocklyAllay \u5141\u8bb8\u73a9\u5bb6\u548c\u5f00\u53d1\u8005\u4f7f\u7528\u53ef\u89c6\u5316\u79ef\u6728\u6765\u521b\u5efa\u590d\u6742\u7684\u670d\u52a1\u5668\u811a\u672c\uff0c\u65e0\u9700\u76f4\u63a5\u7f16\u5199\u4ee3\u7801\u3002\u540c\u65f6\uff0c\u5b83\u4e5f\u652f\u6301\u624b\u5199 JavaScript \u811a\u672c\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684 API \u4f9b\u5f00\u53d1\u8005\u4f7f\u7528\u3002</p>"},{"location":"#_2","title":"\u529f\u80fd\u7279\u6027","text":"<ul> <li>\u53ef\u89c6\u5316\u79ef\u6728\u7f16\u7a0b\u754c\u9762</li> <li>\u5b8c\u6574\u7684 JavaScript API \u652f\u6301</li> <li>\u4e8b\u4ef6\u9a71\u52a8\u7684\u811a\u672c\u7cfb\u7edf</li> <li>\u652f\u6301\u73a9\u5bb6\u4ea4\u4e92\u3001\u4e16\u754c\u64cd\u4f5c\u3001\u5b9e\u4f53\u7ba1\u7406\u7b49</li> <li>\u8868\u5355\u7cfb\u7edf\u3001BossBar \u7cfb\u7edf</li> <li>\u8c03\u5ea6\u5668\u652f\u6301</li> <li>\u5de5\u5177\u7c7b\uff08\u6587\u4ef6 I/O\u3001HTTP \u8bf7\u6c42\u3001JSON \u5904\u7406\u7b49\uff09</li> </ul>"},{"location":"#_3","title":"\u5feb\u901f\u5f00\u59cb","text":""},{"location":"#_4","title":"\u53ef\u89c6\u5316\u7f16\u7a0b","text":"<ol> <li>\u6253\u5f00 BlocklyAllay \u7f51\u9875\u754c\u9762</li> <li>\u4ece\u5de6\u4fa7\u5de5\u5177\u7bb1\u62d6\u52a8\u79ef\u6728\u5230\u5de5\u4f5c\u533a</li> <li>\u8fde\u63a5\u79ef\u6728\u6784\u5efa\u903b\u8f91</li> <li>\u70b9\u51fb \"\u8fd0\u884c\" \u6309\u94ae\u6267\u884c\u811a\u672c</li> <li>\u70b9\u51fb \"\u5bfc\u51fa\" \u6309\u94ae\u4fdd\u5b58\u811a\u672c</li> </ol>"},{"location":"#javascript","title":"\u624b\u5199 JavaScript","text":"<ol> <li>\u521b\u5efa <code>.js</code> \u6587\u4ef6</li> <li>\u4f7f\u7528 BlocklyAllay \u63d0\u4f9b\u7684 API \u7f16\u5199\u811a\u672c</li> <li>\u5c06\u811a\u672c\u653e\u5165\u670d\u52a1\u5668\u7684 <code>scripts</code> \u76ee\u5f55</li> <li>\u91cd\u542f\u670d\u52a1\u5668\u6216\u4f7f\u7528\u547d\u4ee4\u91cd\u8f7d\u811a\u672c</li> </ol>"},{"location":"#_5","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>BlocklyAllay/\n\u251c\u2500\u2500 BlocklyWeb/          # Web \u754c\u9762\u76f8\u5173\u6587\u4ef6\n\u251c\u2500\u2500 docs/                # \u9879\u76ee\u6587\u6863\n\u251c\u2500\u2500 src/                 # \u6e90\u4ee3\u7801\n\u251c\u2500\u2500 README.md            # \u9879\u76ee\u8bf4\u660e\n\u2514\u2500\u2500 build.gradle         # \u6784\u5efa\u914d\u7f6e\n</code></pre>"},{"location":"#_6","title":"\u6838\u5fc3\u6982\u5ff5","text":""},{"location":"#_7","title":"\u811a\u672c\u751f\u547d\u5468\u671f","text":"<p>\u6bcf\u4e2a\u811a\u672c\u90fd\u6709\u4ee5\u4e0b\u751f\u547d\u5468\u671f\u4e8b\u4ef6\uff1a</p> <ul> <li><code>onLoad()</code> - \u811a\u672c\u52a0\u8f7d\u65f6\u89e6\u53d1</li> <li><code>onEnable()</code> - \u811a\u672c\u542f\u7528\u65f6\u89e6\u53d1</li> <li><code>onDisable()</code> - \u811a\u672c\u7981\u7528\u65f6\u89e6\u53d1</li> <li><code>onUnload()</code> - \u811a\u672c\u5378\u8f7d\u65f6\u89e6\u53d1</li> </ul>"},{"location":"#_8","title":"\u4e8b\u4ef6\u7cfb\u7edf","text":"<p>BlocklyAllay \u4f7f\u7528\u4e8b\u4ef6\u9a71\u52a8\u7684\u811a\u672c\u7cfb\u7edf\uff0c\u5f53\u6e38\u620f\u4e2d\u53d1\u751f\u7279\u5b9a\u4e8b\u4ef6\u65f6\uff0c\u4f1a\u8c03\u7528\u76f8\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff1a</p> <pre><code>// \u73a9\u5bb6\u52a0\u5165\u4e8b\u4ef6\nfunction onPlayerJoin(player) {\n    player.sendMessage(\"\u6b22\u8fce\u6765\u5230\u670d\u52a1\u5668!\");\n}\n\n// \u73a9\u5bb6\u804a\u5929\u4e8b\u4ef6\nfunction onPlayerChat(player, message) {\n    console.log(player.getName() + \": \" + message);\n}\n</code></pre>"},{"location":"#api","title":"API \u547d\u540d\u89c4\u8303","text":"<ul> <li>\u6240\u6709 API \u90fd\u901a\u8fc7 <code>allay</code> \u5bf9\u8c61\u8bbf\u95ee\uff08\u9664\u4e86\u6807\u51c6 JavaScript \u529f\u80fd\uff09</li> <li>\u4e8b\u4ef6\u5bf9\u8c61\u901a\u8fc7 <code>event</code> \u5173\u952e\u5b57\u8bbf\u95ee</li> <li>\u51fd\u6570\u540d\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5\uff08\u5982 <code>runLater</code>\u3001<code>sendMessage</code>\uff09</li> </ul>"},{"location":"#_9","title":"\u793a\u4f8b\u811a\u672c","text":"<pre><code>// \u7b80\u5355\u7684\u6b22\u8fce\u6d88\u606f\u811a\u672c\nfunction onLoad() {\n    console.log(\"\u6b22\u8fce\u811a\u672c\u5df2\u52a0\u8f7d\");\n}\n\nfunction onEnable() {\n    console.log(\"\u6b22\u8fce\u811a\u672c\u5df2\u542f\u7528\");\n}\n\nfunction onDisable() {\n    console.log(\"\u6b22\u8fce\u811a\u672c\u5df2\u7981\u7528\");\n}\n\nfunction onUnload() {\n    console.log(\"\u6b22\u8fce\u811a\u672c\u5df2\u5378\u8f7d\");\n}\n\nfunction onPlayerJoin(player) {\n    player.sendMessage(\"\u6b22\u8fce\u6765\u5230\u670d\u52a1\u5668!\");\n\n    // \u5ef6\u8fdf10\u79d2\u53d1\u9001\u6b22\u8fce\u6d88\u606f\n    allay.runLater(200, function() {\n        player.sendMessage(\"\u5e0c\u671b\u4f60\u5728\u670d\u52a1\u5668\u73a9\u5f97\u6109\u5feb!\");\n    }, this);\n}\n\nfunction onPlayerQuit(player) {\n    console.log(player.getName() + \" \u5df2\u79bb\u5f00\u670d\u52a1\u5668\");\n}\n\nfunction onPlayerChat(player, message) {\n    if (message === \"/hello\") {\n        player.sendMessage(\"\u4f60\u597d\uff0c\" + player.getName() + \"!\");\n        event.cancel();\n    }\n}\n</code></pre>"},{"location":"#_10","title":"\u652f\u6301\u4e0e\u53cd\u9988","text":"<ul> <li>\u62a5\u544a\u95ee\u9898\uff1aGitHub Issues</li> <li>\u8ba8\u8bba\u4ea4\u6d41\uff1aDiscord</li> <li>\u6587\u6863\uff1ahttps://docs.blocklyallay.txssb.cn</li> </ul>"},{"location":"blocks/","title":"Blockly Blocks","text":"<p>BlocklyAllay provides a variety of Blockly blocks that you can use to create scripts for your Minecraft-like server. These blocks are organized into categories based on their functionality.</p>"},{"location":"blocks/#block-categories","title":"Block Categories","text":""},{"location":"blocks/#events","title":"Events","text":"<p>Events blocks allow you to respond to various server and player events:</p> <ul> <li>Script Load: Runs when the script is first loaded</li> <li>Script Unload: Runs when the script is unloaded</li> <li>Player Join: Runs when a player joins the server</li> <li>Player Leave: Runs when a player leaves the server</li> <li>Player Chat: Runs when a player sends a chat message</li> <li>Player Interact: Runs when a player interacts with the world</li> </ul>"},{"location":"blocks/#forms","title":"Forms","text":"<p>Forms blocks allow you to create interactive forms for players:</p> <ul> <li>Create Simple Form: Creates a simple form with text and buttons</li> <li>Create Modal Form: Creates a yes/no confirmation dialog</li> <li>Create Custom Form: Creates a form with various input fields</li> <li>Show Form to Player: Displays a form to a specific player</li> <li>Form Submit Handler: Handles form submissions from players</li> </ul>"},{"location":"blocks/#world","title":"World","text":"<p>World blocks allow you to interact with the game world:</p> <ul> <li>Get All Worlds: Retrieves all available worlds on the server</li> <li>Get World by Name: Gets a specific world by its name</li> <li>Get World Time: Retrieves the current time of day in a world</li> <li>Set World Time: Changes the time of day in a world</li> <li>Get World Weather: Retrieves the current weather in a world</li> <li>Set World Weather: Changes the weather in a world</li> </ul>"},{"location":"blocks/#players","title":"Players","text":"<p>Players blocks allow you to interact with players on the server:</p> <ul> <li>Get Online Players: Retrieves all currently online players</li> <li>Get Player by Name: Gets a specific player by their username</li> <li>Send Message to Player: Sends a chat message to a player</li> <li>Kick Player: Removes a player from the server</li> <li>Give Item to Player: Gives an item to a player</li> <li>Get Player Position: Retrieves a player's current position</li> <li>Teleport Player: Moves a player to a specific location</li> </ul>"},{"location":"blocks/#scheduler","title":"Scheduler","text":"<p>Scheduler blocks allow you to schedule tasks to run at specific times:</p> <ul> <li>Run Later: Runs a task once after a delay</li> <li>Run Repeating: Runs a task repeatedly with a fixed interval</li> <li>Run Delayed Repeating: Runs a task repeatedly after an initial delay</li> </ul>"},{"location":"blocks/#bossbar","title":"BossBar","text":"<p>BossBar blocks allow you to create and manage boss bars:</p> <ul> <li>Create BossBar: Creates a new boss bar with a title</li> <li>Set BossBar Title: Changes the title of an existing boss bar</li> <li>Set BossBar Progress: Sets the progress of a boss bar (0.0-1.0)</li> <li>Set BossBar Color: Changes the color of a boss bar</li> <li>Set BossBar Style: Changes the style of a boss bar</li> <li>Show BossBar to Player: Displays a boss bar to a player</li> <li>Hide BossBar from Player: Hides a boss bar from a player</li> </ul>"},{"location":"blocks/#commands","title":"Commands","text":"<p>Commands blocks allow you to register custom commands:</p> <ul> <li>Register Simple Command: Registers a basic command with a handler</li> <li>Register Command with Aliases: Registers a command with alternate names</li> <li>Command Sender Check: Checks if the command sender is a player or console</li> <li>Send Message to Command Sender: Sends a message to whoever ran the command</li> </ul>"},{"location":"blocks/#entities","title":"Entities","text":"<p>Entities blocks allow you to interact with entities in the world:</p> <ul> <li>Get Entity Type: Retrieves the type of an entity</li> <li>Get Entity Position: Gets the coordinates of an entity</li> <li>Get Entity Health: Retrieves an entity's health</li> <li>Set Entity Health: Changes an entity's health</li> </ul>"},{"location":"blocks/#items","title":"Items","text":"<p>Items blocks allow you to interact with items:</p> <ul> <li>Get Item Type: Retrieves the type of an item</li> <li>Get Item Count: Gets the number of items in a stack</li> <li>Get Item Custom Name: Retrieves the custom name of an item</li> </ul>"},{"location":"blocks/#utils","title":"Utils","text":"<p>Utils blocks provide various utility functions:</p> <ul> <li>Log Message: Writes a message to the server logs</li> <li>Read File: Reads content from a file</li> <li>Write File: Writes content to a file</li> <li>HTTP Request: Makes an HTTP request to a URL</li> <li>Parse JSON: Converts a JSON string to an object</li> <li>Stringify JSON: Converts an object to a JSON string</li> </ul>"},{"location":"blocks/#blockly-workspace","title":"Blockly Workspace","text":"<p>When you open BlocklyAllay, you'll see the Blockly workspace where you can drag and drop blocks to create scripts. The blocks are organized into categories in the toolbox on the left side of the screen.</p> <p>To create a script:</p> <ol> <li>Drag blocks from the toolbox onto the workspace</li> <li>Connect blocks together to form a logical sequence</li> <li>Configure block properties by clicking on them</li> <li>Test your script by running it on the server</li> </ol>"},{"location":"blocks/#example-block-script","title":"Example Block Script","text":"<p>Here's a simple example of a Blockly script that sends a welcome message to players when they join:</p> <pre><code>when player joins\n    get event player\n    send message \"Welcome to the server!\" to player\n</code></pre> <p>This script uses the \"Player Join\" event block, the \"Get Event Player\" block, and the \"Send Message to Player\" block to create a simple welcome message system.</p>"},{"location":"blocks/#best-practices","title":"Best Practices","text":"<ul> <li>Keep your scripts organized by using comments and logical grouping</li> <li>Test your scripts thoroughly before deploying them to a production server</li> <li>Use descriptive variable names to make your scripts more readable</li> <li>Take advantage of events to create responsive gameplay experiences</li> <li>Use forms to create interactive interfaces for players</li> </ul>"},{"location":"examples/","title":"Script Examples","text":"<p>This page provides practical examples of scripts you can create using BlocklyAllay. Each example demonstrates different aspects of the API and can be used as a starting point for your own scripts.</p>"},{"location":"examples/#basic-examples","title":"Basic Examples","text":""},{"location":"examples/#welcome-message","title":"Welcome Message","text":"<p>Description: Sends a welcome message to players when they join the server.</p> <pre><code>// When a player joins\nallay.onPlayerJoin((event) =&gt; {\n    const player = event.getPlayer();\n    player.sendMessage(\"\u00a7aWelcome to the BlocklyAllay Server!\");\n    player.sendMessage(\"\u00a77Type /help for a list of commands.\");\n});\n</code></pre>"},{"location":"examples/#simple-command","title":"Simple Command","text":"<p>Description: Registers a simple command that sends a message to the player.</p> <pre><code>// Register a simple hello command\nallay.getCommandAPI().registerCommand(\n    \"hello\",\n    \"Say hello to the server\",\n    \"\",\n    (context) =&gt; {\n        const sender = context.getSender();\n        sender.sendMessage(\"Hello! This is a simple command.\");\n    }\n);\n</code></pre>"},{"location":"examples/#intermediate-examples","title":"Intermediate Examples","text":""},{"location":"examples/#teleport-command","title":"Teleport Command","text":"<p>Description: Creates a command that teleports a player to coordinates or another player.</p> <pre><code>allay.getCommandAPI().registerCommand(\n    \"tp\",\n    \"Teleport command\",\n    \"blocklyallay.teleport\",\n    (context) =&gt; {\n        const sender = context.getSender();\n        const args = context.getArgs();\n\n        if (!sender.isPlayer()) {\n            sender.sendMessage(\"This command can only be used by players.\");\n            return;\n        }\n\n        const player = sender.asPlayer();\n\n        if (args.length === 1) {\n            // Teleport to another player\n            const targetPlayer = allay.getPlayer(args[0]);\n            if (targetPlayer) {\n                player.teleport(targetPlayer.getX(), targetPlayer.getY(), targetPlayer.getZ());\n                player.sendMessage(`Teleported to ${targetPlayer.getName()}`);\n            } else {\n                player.sendMessage(`Player ${args[0]} not found.`);\n            }\n        } else if (args.length === 3) {\n            // Teleport to coordinates\n            const x = parseFloat(args[0]);\n            const y = parseFloat(args[1]);\n            const z = parseFloat(args[2]);\n\n            player.teleport(x, y, z);\n            player.sendMessage(`Teleported to ${x}, ${y}, ${z}`);\n        } else {\n            player.sendMessage(\"Usage: /tp &lt;player&gt; OR /tp &lt;x&gt; &lt;y&gt; &lt;z&gt;\");\n        }\n    }\n);\n</code></pre>"},{"location":"examples/#boss-bar-timer","title":"Boss Bar Timer","text":"<p>Description: Creates a boss bar that acts as a countdown timer.</p> <pre><code>// Create a boss bar timer\nallay.onPlayerJoin((event) =&gt; {\n    const player = event.getPlayer();\n    const bossBar = allay.getBossBar().create(\"Countdown Timer\");\n\n    bossBar.setColor(\"blue\");\n    bossBar.setStyle(\"segmented_10\");\n    bossBar.setProgress(1.0);\n    bossBar.show(player);\n\n    let timeLeft = 10; // 10 seconds\n\n    const timer = allay.getScheduler().runRepeating(() =&gt; {\n        timeLeft--;\n        bossBar.setProgress(timeLeft / 10);\n        bossBar.setTitle(`Time Left: ${timeLeft}s`);\n\n        if (timeLeft &lt;= 0) {\n            bossBar.hide(player);\n            player.sendMessage(\"\u00a7cTime's up!\");\n            timer.cancel();\n        }\n    }, 1000); // Run every second\n});\n</code></pre>"},{"location":"examples/#simple-form","title":"Simple Form","text":"<p>Description: Creates a simple form that allows players to select from multiple options.</p> <pre><code>allay.onPlayerJoin((event) =&gt; {\n    const player = event.getPlayer();\n\n    // Create a simple form\n    const form = allay.getForms().createSimpleForm();\n    form.setTitle(\"Welcome Menu\");\n    form.setContent(\"Please select an option:\");\n\n    // Add buttons\n    form.addButton(\"Get Info\", \"textures/ui/info_icon.png\");\n    form.addButton(\"Teleport to Spawn\", \"textures/ui/home_icon.png\");\n    form.addButton(\"Claim Reward\", \"textures/ui/gift_icon.png\");\n\n    // Set response handler\n    form.setHandler((player, response) =&gt; {\n        if (response === -1) {\n            return; // Form was closed\n        }\n\n        switch (response) {\n            case 0:\n                player.sendMessage(\"\u00a7aServer Info: BlocklyAllay v1.0\");\n                player.sendMessage(`\u00a77Players online: ${allay.getOnlinePlayers().length}`);\n                break;\n            case 1:\n                player.teleport(0, 64, 0);\n                player.sendMessage(\"\u00a7aTeleported to spawn!\");\n                break;\n            case 2:\n                player.sendMessage(\"\u00a7aReward claimed! Enjoy your items!\");\n                // Add reward logic here\n                break;\n        }\n    });\n\n    // Show the form\n    form.show(player);\n});\n</code></pre>"},{"location":"examples/#advanced-examples","title":"Advanced Examples","text":""},{"location":"examples/#custom-form-with-input","title":"Custom Form with Input","text":"<p>Description: Creates a custom form that collects player input.</p> <pre><code>allay.getCommandAPI().registerCommand(\n    \"customform\",\n    \"Show a custom form\",\n    \"\",\n    (context) =&gt; {\n        const sender = context.getSender();\n\n        if (!sender.isPlayer()) {\n            sender.sendMessage(\"This command can only be used by players.\");\n            return;\n        }\n\n        const player = sender.asPlayer();\n\n        // Create a custom form\n        const form = allay.getForms().createCustomForm();\n        form.setTitle(\"Player Profile\");\n\n        // Add form elements\n        form.addInput(\"What's your name?\", player.getName());\n        form.addToggle(\"Do you like this server?\", true);\n        form.addSlider(\"How many hours have you played?\", 0, 100, 1, 10);\n        form.addDropdown(\"What's your favorite game mode?\", [\"Survival\", \"Creative\", \"Adventure\", \"Spectator\"], 0);\n        form.addInput(\"Any feedback?\", \"\");\n\n        // Set response handler\n        form.setHandler((player, response) =&gt; {\n            if (!response) {\n                return; // Form was closed\n            }\n\n            const name = response[0];\n            const likesServer = response[1];\n            const hours = response[2];\n            const gameMode = response[3];\n            const feedback = response[4];\n\n            // Process the responses\n            player.sendMessage(\"\u00a7aThank you for completing the profile!\");\n            player.sendMessage(`\u00a77Name: ${name}`);\n            player.sendMessage(`\u00a77Likes server: ${likesServer ? \"Yes\" : \"No\"}`);\n            player.sendMessage(`\u00a77Hours played: ${hours}`);\n            player.sendMessage(`\u00a77Favorite game mode: ${gameMode}`);\n\n            if (feedback) {\n                player.sendMessage(`\u00a77Feedback: ${feedback}`);\n                // Save feedback to file\n                allay.writeFile(\"feedback.txt\", `[${new Date().toISOString()}] ${player.getName()}: ${feedback}\\n`, true);\n            }\n        });\n\n        // Show the form\n        form.show(player);\n    }\n);\n</code></pre>"},{"location":"examples/#event-based-minigame","title":"Event-Based Minigame","text":"<p>Description: Creates a simple event-based minigame where players earn points by breaking blocks.</p> <pre><code>// Simple block breaking minigame\nconst playerScores = new Map();\n\n// Initialize score when player joins\nallay.onPlayerJoin((event) =&gt; {\n    const player = event.getPlayer();\n    playerScores.set(player.getName(), 0);\n    player.sendMessage(\"\u00a7aBlock Breaking Minigame Started!\");\n    player.sendMessage(\"\u00a77Break blocks to earn points!\");\n});\n\n// Track block breaks\nallay.onBlockBreak((event) =&gt; {\n    const player = event.getPlayer();\n    const playerName = player.getName();\n\n    if (playerScores.has(playerName)) {\n        const currentScore = playerScores.get(playerName);\n        const newScore = currentScore + 1;\n        playerScores.set(playerName, newScore);\n\n        // Update player with new score\n        player.sendMessage(`\u00a7eScore: ${newScore}`);\n\n        // Give reward at milestones\n        if (newScore % 10 === 0) {\n            player.sendMessage(`\u00a76Milestone reached! +${newScore/10} bonus points!`);\n            playerScores.set(playerName, newScore + Math.floor(newScore/10));\n        }\n    }\n});\n\n// Show leaderboard command\nallay.getCommandAPI().registerCommand(\n    \"leaderboard\",\n    \"Show block breaking leaderboard\",\n    \"\",\n    (context) =&gt; {\n        const sender = context.getSender();\n\n        // Sort players by score\n        const sortedPlayers = Array.from(playerScores.entries())\n            .sort(([,a], [,b]) =&gt; b - a);\n\n        sender.sendMessage(\"\u00a76=== Block Breaking Leaderboard ===\");\n\n        sortedPlayers.forEach(([name, score], index) =&gt; {\n            sender.sendMessage(`${index + 1}. ${name}: \u00a7e${score} points`);\n        });\n\n        sender.sendMessage(\"\u00a76==============================\");\n    }\n);\n</code></pre>"},{"location":"examples/#utility-examples","title":"Utility Examples","text":""},{"location":"examples/#file-io-example","title":"File I/O Example","text":"<p>Description: Demonstrates reading from and writing to files.</p> <pre><code>// Write data to a file\nallay.writeFile(\"player_data.txt\", \"Player data storage\\n\", false);\n\n// When a player joins, append their info to the file\nallay.onPlayerJoin((event) =&gt; {\n    const player = event.getPlayer();\n    const playerInfo = `${player.getName()},${player.getX()},${player.getY()},${player.getZ()},${new Date().toISOString()}\\n`;\n\n    allay.writeFile(\"player_data.txt\", playerInfo, true);\n});\n\n// Command to read the player data\nallay.getCommandAPI().registerCommand(\n    \"readdata\",\n    \"Read player data from file\",\n    \"blocklyallay.readdata\",\n    (context) =&gt; {\n        const sender = context.getSender();\n\n        try {\n            const data = allay.readFile(\"player_data.txt\");\n            sender.sendMessage(\"\u00a76Player Data:\");\n            sender.sendMessage(data);\n        } catch (error) {\n            sender.sendMessage(\"\u00a7cError reading file: \" + error.message);\n        }\n    }\n);\n</code></pre>"},{"location":"examples/#http-request-example","title":"HTTP Request Example","text":"<p>Description: Makes an HTTP request to an external API.</p> <pre><code>allay.getCommandAPI().registerCommand(\n    \"joke\",\n    \"Get a random joke from an API\",\n    \"\",\n    (context) =&gt; {\n        const sender = context.getSender();\n\n        // Make HTTP request to a joke API\n        allay.httpRequest({\n            url: \"https://official-joke-api.appspot.com/random_joke\",\n            method: \"GET\",\n            headers: { \"Content-Type\": \"application/json\" }\n        }, (response) =&gt; {\n            if (response.success) {\n                const joke = JSON.parse(response.data);\n                sender.sendMessage(\"\u00a76\" + joke.setup);\n                sender.sendMessage(\"\u00a7e\" + joke.punchline);\n            } else {\n                sender.sendMessage(\"\u00a7cFailed to get joke: \" + response.status);\n            }\n        });\n    }\n);\n</code></pre>"},{"location":"examples/#best-practices","title":"Best Practices","text":"<p>When creating scripts, consider the following best practices:</p> <ol> <li>Error Handling: Always add proper error handling to your scripts</li> <li>Permissions: Check permissions before allowing players to use commands</li> <li>Performance: Avoid expensive operations in frequently called events</li> <li>Cleanup: Properly cleanup resources like timers and boss bars</li> <li>Documentation: Add comments to explain complex logic</li> <li>Testing: Test your scripts thoroughly before deployment</li> </ol> <p>These examples should give you a good starting point for creating your own scripts with BlocklyAllay. Remember to experiment and combine different API features to create unique gameplay experiences!</p>"},{"location":"api/bossbar/","title":"BossBar API","text":"<p>BossBar API \u5141\u8bb8\u60a8\u521b\u5efa\u548c\u7ba1\u7406\u663e\u793a\u5728\u73a9\u5bb6\u5c4f\u5e55\u9876\u90e8\u7684 boss \u680f\u3002</p>"},{"location":"api/bossbar/#_1","title":"\u5f00\u59cb\u4f7f\u7528","text":"<p>\u8981\u4f7f\u7528 BossBar API\uff0c\u60a8\u9996\u5148\u9700\u8981\u83b7\u53d6 BossBar \u7ba1\u7406\u5668\uff1a</p> <pre><code>const bossBarManager = allay.getBossBar();\n</code></pre>"},{"location":"api/bossbar/#bossbar","title":"BossBar \u65b9\u6cd5","text":""},{"location":"api/bossbar/#bossbar_1","title":"\u521b\u5efa BossBar","text":"<pre><code>bossBarManager.create(title)\n</code></pre> <p>\u53c2\u6570\uff1a - <code>title</code> (string): \u663e\u793a\u5728 boss \u680f\u4e0a\u7684\u6807\u9898\u6587\u672c</p> <p>\u8fd4\u56de\u503c\uff1a - \u4e00\u4e2a\u53ef\u64cd\u4f5c\u7684 BossBar \u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>const myBossBar = allay.getBossBar().create(\"Boss Battle!\");\n</code></pre></p>"},{"location":"api/bossbar/#bossbar_2","title":"BossBar \u5c5e\u6027","text":""},{"location":"api/bossbar/#_2","title":"\u6807\u9898","text":"<pre><code>// \u8bbe\u7f6e\u6807\u9898\nbossBar.setTitle(title)\n\n// \u83b7\u53d6\u6807\u9898\nbossBar.getTitle()\n</code></pre> <p>\u53c2\u6570\uff1a - <code>title</code> (string): \u65b0\u7684\u6807\u9898\u6587\u672c</p> <p>\u8fd4\u56de\u503c\uff1a - (string): \u5f53\u524d\u6807\u9898\u6587\u672c</p>"},{"location":"api/bossbar/#_3","title":"\u8fdb\u5ea6","text":"<pre><code>// \u8bbe\u7f6e\u8fdb\u5ea6 (0.0 \u5230 1.0)\nbossBar.setProgress(progress)\n\n// \u83b7\u53d6\u8fdb\u5ea6\nbossBar.getProgress()\n</code></pre> <p>\u53c2\u6570\uff1a - <code>progress</code> (number): \u8fdb\u5ea6\u503c\uff0c\u8303\u56f4\u5728 0.0\uff08\u7a7a\uff09\u5230 1.0\uff08\u6ee1\uff09\u4e4b\u95f4</p> <p>\u8fd4\u56de\u503c\uff1a - (number): \u5f53\u524d\u8fdb\u5ea6\u503c</p>"},{"location":"api/bossbar/#_4","title":"\u989c\u8272","text":"<pre><code>// \u8bbe\u7f6e\u989c\u8272\nbossBar.setColor(color)\n\n// \u83b7\u53d6\u989c\u8272\nbossBar.getColor()\n</code></pre> <p>\u53c2\u6570\uff1a - <code>color</code> (string): \u989c\u8272\u540d\u79f0 (\"blue\", \"green\", \"pink\", \"purple\", \"red\", \"white\", \"yellow\")</p> <p>\u8fd4\u56de\u503c\uff1a - (string): \u5f53\u524d\u989c\u8272</p>"},{"location":"api/bossbar/#_5","title":"\u6837\u5f0f","text":"<pre><code>// \u8bbe\u7f6e\u6837\u5f0f\nbossBar.setStyle(style)\n\n// \u83b7\u53d6\u6837\u5f0f\nbossBar.getStyle()\n</code></pre> <p>\u53c2\u6570\uff1a - <code>style</code> (string): \u6837\u5f0f\u540d\u79f0 (\"solid\", \"segmented_6\", \"segmented_10\", \"segmented_12\", \"segmented_20\")</p> <p>\u8fd4\u56de\u503c\uff1a - (string): \u5f53\u524d\u6837\u5f0f</p>"},{"location":"api/bossbar/#_6","title":"\u53d8\u6697\u5929\u7a7a","text":"<pre><code>// \u8bbe\u7f6e\u53d8\u6697\u5929\u7a7a\u6548\u679c\nbossBar.setDarkenSky(darken)\n\n// \u68c0\u67e5\u662f\u5426\u542f\u7528\u53d8\u6697\u5929\u7a7a\nbossBar.isDarkenSky()\n</code></pre> <p>\u53c2\u6570\uff1a - <code>darken</code> (boolean): \u662f\u5426\u53d8\u6697\u5929\u7a7a</p> <p>\u8fd4\u56de\u503c\uff1a - (boolean): \u662f\u5426\u542f\u7528\u53d8\u6697\u5929\u7a7a</p>"},{"location":"api/bossbar/#_7","title":"\u73a9\u5bb6\u7ba1\u7406","text":"<pre><code>// \u5411\u73a9\u5bb6\u663e\u793a boss \u680f\nbossBar.show(player)\n\n// \u5411\u73a9\u5bb6\u9690\u85cf boss \u680f\nbossBar.hide(player)\n\n// \u79fb\u9664\u6240\u6709\u89c2\u5bdf\u8005\nbossBar.removeAllViewers()\n\n// \u83b7\u53d6\u89c2\u5bdf\u8005\u6570\u91cf\nbossBar.getViewerCount()\n</code></pre> <p>\u53c2\u6570\uff1a - <code>player</code> (Player): \u8981\u663e\u793a/\u9690\u85cf boss \u680f\u7684\u73a9\u5bb6</p> <p>\u8fd4\u56de\u503c\uff1a - (number): \u4f7f\u7528 getViewerCount() \u65f6\u8fd4\u56de\u89c2\u5bdf\u8005\u6570\u91cf</p>"},{"location":"api/bossbar/#_8","title":"\u793a\u4f8b\u7528\u6cd5","text":"<pre><code>// \u521b\u5efa\u4e00\u4e2a boss \u680f\nconst bossBar = allay.getBossBar().create(\"Epic Battle\");\n\n// \u8bbe\u7f6e boss \u680f\u5c5e\u6027\nbossBar.setProgress(0.5);\nbossBar.setColor(\"red\");\nbossBar.setStyle(\"segmented_10\");\nbossBar.setDarkenSky(true);\n\n// \u83b7\u53d6\u5728\u7ebf\u73a9\u5bb6\nconst players = allay.getOnlinePlayers();\n\n// \u5411\u6240\u6709\u5728\u7ebf\u73a9\u5bb6\u663e\u793a boss \u680f\nplayers.forEach(player =&gt; {\n    bossBar.show(player);\n});\n\n// \u4e00\u6bb5\u65f6\u95f4\u540e\u66f4\u65b0 boss \u680f\nallay.getScheduler().runLater(() =&gt; {\n    bossBar.setProgress(0.75);\n    bossBar.setTitle(\"Almost Done!\");\n}, 5000);\n</code></pre>"},{"location":"api/commands/","title":"\u547d\u4ee4 API","text":"<p>\u547d\u4ee4 API \u5141\u8bb8\u60a8\u4e3a BlocklyAllay \u811a\u672c\u6ce8\u518c\u548c\u7ba1\u7406\u81ea\u5b9a\u4e49\u547d\u4ee4\u3002</p>"},{"location":"api/commands/#_1","title":"\u5f00\u59cb\u4f7f\u7528","text":"<p>\u8981\u4f7f\u7528\u547d\u4ee4 API\uff0c\u60a8\u9996\u5148\u9700\u8981\u83b7\u53d6\u547d\u4ee4 API \u7ba1\u7406\u5668\uff1a</p> <pre><code>const commandAPI = allay.getCommandAPI();\n</code></pre>"},{"location":"api/commands/#_2","title":"\u547d\u4ee4\u6ce8\u518c","text":""},{"location":"api/commands/#_3","title":"\u6ce8\u518c\u7b80\u5355\u547d\u4ee4","text":"<pre><code>commandAPI.registerCommand(name, description, handler)\n</code></pre> <p>\u53c2\u6570\uff1a - <code>name</code> (string): \u547d\u4ee4\u540d\u79f0\uff08\u4e0d\u5e26\u659c\u6760\uff09 - <code>description</code> (string): \u547d\u4ee4\u63cf\u8ff0 - <code>handler</code> (function): \u547d\u4ee4\u6267\u884c\u65f6\u8c03\u7528\u7684\u5904\u7406\u51fd\u6570</p> <p>\u793a\u4f8b\uff1a <pre><code>allay.getCommandAPI().registerCommand(\n    \"hello\",\n    \"\u5411\u73a9\u5bb6\u95ee\u597d\",\n    (context) =&gt; {\n        const sender = context.getSender();\n        sender.sendMessage(\"\u4f60\u597d\uff01\u6b22\u8fce\u4f7f\u7528 BlocklyAllay\uff01\");\n    }\n);\n</code></pre></p>"},{"location":"api/commands/#_4","title":"\u6ce8\u518c\u5e26\u522b\u540d\u7684\u547d\u4ee4","text":"<pre><code>commandAPI.registerCommand(name, description, aliases, handler)\n</code></pre> <p>\u53c2\u6570\uff1a - <code>name</code> (string): \u547d\u4ee4\u4e3b\u540d\u79f0 - <code>description</code> (string): \u547d\u4ee4\u63cf\u8ff0 - <code>aliases</code> (array): \u547d\u4ee4\u522b\u540d\u6570\u7ec4 - <code>handler</code> (function): \u547d\u4ee4\u6267\u884c\u65f6\u8c03\u7528\u7684\u5904\u7406\u51fd\u6570</p> <p>\u793a\u4f8b\uff1a <pre><code>allay.getCommandAPI().registerCommand(\n    \"info\",\n    \"\u663e\u793a\u670d\u52a1\u5668\u4fe1\u606f\",\n    [\"serverinfo\", \"about\"],\n    (context) =&gt; {\n        const sender = context.getSender();\n        sender.sendMessage(\"BlocklyAllay \u670d\u52a1\u5668 v1.0\");\n    }\n);\n</code></pre></p>"},{"location":"api/commands/#_5","title":"\u6ce8\u9500\u547d\u4ee4","text":"<pre><code>commandAPI.unregisterAll()\n</code></pre> <p>\u63cf\u8ff0\uff1a - \u6ce8\u9500\u6240\u6709\u7531\u547d\u4ee4 API \u6ce8\u518c\u7684\u547d\u4ee4</p> <p>\u793a\u4f8b\uff1a <pre><code>allay.getCommandAPI().unregisterAll();\n</code></pre></p>"},{"location":"api/commands/#_6","title":"\u547d\u4ee4\u4e0a\u4e0b\u6587","text":"<p>\u5f53\u547d\u4ee4\u6267\u884c\u65f6\uff0c\u5904\u7406\u51fd\u6570\u4f1a\u63a5\u6536\u4e00\u4e2a <code>context</code> \u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u5177\u6709\u4ee5\u4e0b\u65b9\u6cd5\uff1a</p>"},{"location":"api/commands/#_7","title":"\u83b7\u53d6\u547d\u4ee4\u53d1\u9001\u8005","text":"<pre><code>context.getSender()\n</code></pre> <p>\u8fd4\u56de\u503c\uff1a - \u4e00\u4e2a CommandSender \u5bf9\u8c61\uff0c\u8868\u793a\u6267\u884c\u547d\u4ee4\u7684\u5b9e\u4f53</p>"},{"location":"api/commands/#_8","title":"\u83b7\u53d6\u547d\u4ee4\u540d\u79f0","text":"<pre><code>context.getCommandName()\n</code></pre> <p>\u8fd4\u56de\u503c\uff1a - (string): \u6267\u884c\u7684\u547d\u4ee4\u540d\u79f0</p>"},{"location":"api/commands/#_9","title":"\u83b7\u53d6\u547d\u4ee4\u53c2\u6570","text":"<pre><code>// \u83b7\u53d6\u6240\u6709\u53c2\u6570\ncontext.getArgs()\n\n// \u83b7\u53d6\u6307\u5b9a\u7d22\u5f15\u7684\u53c2\u6570\ncontext.getArg(index)\n</code></pre> <p>\u53c2\u6570\uff1a - <code>index</code> (number): \u8981\u83b7\u53d6\u7684\u53c2\u6570\u7d22\u5f15\uff08\u4ece 0 \u5f00\u59cb\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - (array): \u4f7f\u7528 getArgs() \u65f6\u8fd4\u56de\u6240\u6709\u53c2\u6570\u7684\u5b57\u7b26\u4e32\u6570\u7ec4 - (string): \u4f7f\u7528 getArg() \u65f6\u8fd4\u56de\u6307\u5b9a\u7d22\u5f15\u7684\u53c2\u6570</p>"},{"location":"api/commands/#commandsender","title":"CommandSender \u65b9\u6cd5","text":""},{"location":"api/commands/#_10","title":"\u53d1\u9001\u6d88\u606f","text":"<pre><code>commandSender.sendMessage(message)\n</code></pre> <p>\u53c2\u6570\uff1a - <code>message</code> (string): \u8981\u53d1\u9001\u7ed9\u547d\u4ee4\u53d1\u9001\u8005\u7684\u6d88\u606f</p>"},{"location":"api/commands/#_11","title":"\u68c0\u67e5\u6743\u9650","text":"<pre><code>commandSender.hasPermission(permission)\n</code></pre> <p>\u53c2\u6570\uff1a - <code>permission</code> (string): \u8981\u68c0\u67e5\u7684\u6743\u9650</p> <p>\u8fd4\u56de\u503c\uff1a - (boolean): \u53d1\u9001\u8005\u662f\u5426\u5177\u6709\u6307\u5b9a\u6743\u9650</p>"},{"location":"api/commands/#_12","title":"\u68c0\u67e5\u53d1\u9001\u8005\u7c7b\u578b","text":"<pre><code>// \u68c0\u67e5\u53d1\u9001\u8005\u662f\u5426\u4e3a\u73a9\u5bb6\ncommandSender.isPlayer()\n\n// \u68c0\u67e5\u53d1\u9001\u8005\u662f\u5426\u4e3a\u63a7\u5236\u53f0\ncommandSender.isConsole()\n</code></pre> <p>\u8fd4\u56de\u503c\uff1a - (boolean): \u5982\u679c\u53d1\u9001\u8005\u5339\u914d\u7c7b\u578b\u5219\u4e3a true\uff0c\u5426\u5219\u4e3a false</p>"},{"location":"api/commands/#_13","title":"\u8f6c\u6362\u4e3a\u73a9\u5bb6","text":"<pre><code>commandSender.asPlayer()\n</code></pre> <p>\u8fd4\u56de\u503c\uff1a - \u5982\u679c\u53d1\u9001\u8005\u662f\u73a9\u5bb6\uff0c\u5219\u8fd4\u56de Player \u5bf9\u8c61\uff1b\u5426\u5219\u8fd4\u56de null</p>"},{"location":"api/commands/#_14","title":"\u793a\u4f8b\u7528\u6cd5","text":"<pre><code>// \u6ce8\u518c\u5e26\u53c2\u6570\u7684\u547d\u4ee4\nallay.getCommandAPI().registerCommand(\n    \"giveitem\",\n    \"\u7ed9\u73a9\u5bb6\u7269\u54c1\",\n    (context) =&gt; {\n        const sender = context.getSender();\n        const args = context.getArgs();\n\n        if (args.length &lt; 2) {\n            sender.sendMessage(\"\u7528\u6cd5: /giveitem &lt;\u73a9\u5bb6\u540d&gt; &lt;\u7269\u54c1\u7c7b\u578b&gt;\");\n            return;\n        }\n\n        const playerName = args[0];\n        const itemType = args[1];\n        const player = allay.getPlayer(playerName);\n\n        if (player) {\n            // \u7ed9\u7269\u54c1\u903b\u8f91\u5728\u8fd9\u91cc\u5b9e\u73b0\n            player.sendMessage(`\u4f60\u6536\u5230\u4e86 ${itemType}\uff01`);\n            sender.sendMessage(`\u5df2\u7ed9 ${playerName} \u7269\u54c1 ${itemType}`);\n        } else {\n            sender.sendMessage(`\u73a9\u5bb6 ${playerName} \u672a\u627e\u5230`);\n        }\n    }\n);\n</code></pre>"},{"location":"api/entities/","title":"\u5b9e\u4f53 API","text":"<p>\u5b9e\u4f53 API \u5141\u8bb8\u60a8\u4e0e\u4e16\u754c\u4e2d\u7684\u5404\u79cd\u5b9e\u4f53\u4ea4\u4e92\uff0c\u5305\u62ec\u73a9\u5bb6\u3001\u751f\u7269\u548c\u5176\u4ed6\u6e38\u620f\u5bf9\u8c61\u3002</p>"},{"location":"api/entities/#_1","title":"\u5b9e\u4f53\u65b9\u6cd5","text":""},{"location":"api/entities/#_2","title":"\u83b7\u53d6\u5b9e\u4f53\u4fe1\u606f","text":""},{"location":"api/entities/#_3","title":"\u7c7b\u578b","text":"<pre><code>entity.getType()\n</code></pre> <p>\u8fd4\u56de\u503c\uff1a - (string): \u5b9e\u4f53\u7c7b\u578b\uff08\u4f8b\u5982\uff1a\"player\", \"zombie\", \"creeper\"\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>// \u5047\u8bbe 'entity' \u662f\u4e00\u4e2a\u5b9e\u4f53\u5bf9\u8c61\nconst entityType = entity.getType();\nallay.log(entityType); // \u8f93\u51fa: \"zombie\"\n</code></pre></p>"},{"location":"api/entities/#_4","title":"\u4f4d\u7f6e","text":"<pre><code>// \u83b7\u53d6 X \u5750\u6807\nentity.getX()\n\n// \u83b7\u53d6 Y \u5750\u6807  \nentity.getY()\n\n// \u83b7\u53d6 Z \u5750\u6807\nentity.getZ()\n</code></pre> <p>\u8fd4\u56de\u503c\uff1a - (number): \u76f8\u5e94\u7684\u5750\u6807\u503c</p> <p>\u793a\u4f8b\uff1a <pre><code>const x = entity.getX();\nconst y = entity.getY();\nconst z = entity.getZ();\nallay.log(`\u5b9e\u4f53\u4f4d\u7f6e: ${x}, ${y}, ${z}`);\n</code></pre></p>"},{"location":"api/entities/#_5","title":"\u751f\u547d\u503c","text":"<pre><code>// \u83b7\u53d6\u751f\u547d\u503c\nentity.getHealth()\n\n// \u8bbe\u7f6e\u751f\u547d\u503c\nentity.setHealth(health)\n</code></pre> <p>\u53c2\u6570\uff1a - <code>health</code> (number): \u8981\u8bbe\u7f6e\u7684\u65b0\u751f\u547d\u503c</p> <p>\u8fd4\u56de\u503c\uff1a - (number): \u4f7f\u7528 getHealth() \u65f6\u8fd4\u56de\u5f53\u524d\u751f\u547d\u503c</p> <p>\u793a\u4f8b\uff1a <pre><code>// \u83b7\u53d6\u5f53\u524d\u751f\u547d\u503c\nconst currentHealth = entity.getHealth();\nallay.log(`\u5f53\u524d\u751f\u547d\u503c: ${currentHealth}`);\n\n// \u8bbe\u7f6e\u751f\u547d\u503c\u4e3a\u6ee1\nentity.setHealth(20);\n</code></pre></p>"},{"location":"api/entities/#_6","title":"\u793a\u4f8b\u7528\u6cd5","text":"<pre><code>// \u83b7\u53d6\u73a9\u5bb6\u5b9e\u4f53\uff08\u73a9\u5bb6\u4e5f\u662f\u5b9e\u4f53\uff09\nconst player = allay.getPlayer(\"Steve\");\n\nif (player) {\n    // \u83b7\u53d6\u73a9\u5bb6\u5b9e\u4f53\u4fe1\u606f\n    const type = player.getType();\n    const health = player.getHealth();\n    const x = player.getX();\n    const y = player.getY();\n    const z = player.getZ();\n\n    allay.log(`\u73a9\u5bb6 ${player.getName()} \u662f\u4e00\u4e2a ${type}\uff0c\u751f\u547d\u503c\u4e3a ${health}\uff0c\u4f4d\u7f6e\u5728 ${x}, ${y}, ${z}`);\n\n    // \u5982\u679c\u751f\u547d\u503c\u4f4e\uff0c\u6cbb\u7597\u73a9\u5bb6\n    if (health &lt; 10) {\n        player.setHealth(20);\n        allay.log(\"\u73a9\u5bb6\u5df2\u6cbb\u7597!\");\n    }\n}\n</code></pre>"},{"location":"api/entities/#_7","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u73a9\u5bb6\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u5b9e\u4f53\uff0c\u56e0\u6b64\u6240\u6709\u5b9e\u4f53\u65b9\u6cd5\u4e5f\u9002\u7528\u4e8e\u73a9\u5bb6</li> <li>\u53ef\u7528\u7684 API \u65b9\u6cd5\u53ef\u80fd\u56e0\u5b9e\u4f53\u7c7b\u578b\u800c\u5f02</li> <li>\u5b9e\u4f53\u5bf9\u8c61\u901a\u5e38\u4ece\u4e8b\u4ef6\u6216\u5176\u4ed6 API \u65b9\u6cd5\u4e2d\u83b7\u53d6</li> </ul>"},{"location":"api/events/","title":"\u4e8b\u4ef6API","text":"<p>\u4e8b\u4ef6API\u5141\u8bb8\u811a\u672c\u54cd\u5e94\u6e38\u620f\u4e2d\u7684\u5404\u79cd\u4e8b\u4ef6\uff0c\u5982\u73a9\u5bb6\u52a0\u5165\u3001\u65b9\u5757\u7834\u574f\u3001\u5b9e\u4f53\u79fb\u52a8\u7b49\u3002\u901a\u8fc7\u76d1\u542c\u8fd9\u4e9b\u4e8b\u4ef6\uff0c\u811a\u672c\u53ef\u4ee5\u5b9e\u73b0\u590d\u6742\u7684\u4ea4\u4e92\u903b\u8f91\u3002</p>"},{"location":"api/events/#_1","title":"\u811a\u672c\u751f\u547d\u5468\u671f\u4e8b\u4ef6","text":""},{"location":"api/events/#onload","title":"onLoad()","text":"<p>\u5f53\u811a\u672c\u52a0\u8f7d\u65f6\u89e6\u53d1\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>function onLoad() {\n    console.log(\"\u811a\u672c\u5df2\u52a0\u8f7d\");\n}\n</code></pre></p>"},{"location":"api/events/#onenable","title":"onEnable()","text":"<p>\u5f53\u811a\u672c\u542f\u7528\u65f6\u89e6\u53d1\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>function onEnable() {\n    console.log(\"\u811a\u672c\u5df2\u542f\u7528\");\n}\n</code></pre></p>"},{"location":"api/events/#ondisable","title":"onDisable()","text":"<p>\u5f53\u811a\u672c\u7981\u7528\u65f6\u89e6\u53d1\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>function onDisable() {\n    console.log(\"\u811a\u672c\u5df2\u7981\u7528\");\n}\n</code></pre></p>"},{"location":"api/events/#onunload","title":"onUnload()","text":"<p>\u5f53\u811a\u672c\u5378\u8f7d\u65f6\u89e6\u53d1\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>function onUnload() {\n    console.log(\"\u811a\u672c\u5df2\u5378\u8f7d\");\n}\n</code></pre></p>"},{"location":"api/events/#_2","title":"\u73a9\u5bb6\u4e8b\u4ef6","text":""},{"location":"api/events/#onplayerjoinplayer","title":"onPlayerJoin(player)","text":"<p>\u5f53\u73a9\u5bb6\u52a0\u5165\u670d\u52a1\u5668\u65f6\u89e6\u53d1\u3002</p> <p>\u53c2\u6570\uff1a - <code>player</code> - \u73a9\u5bb6\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerJoin(player) {\n    player.sendMessage(\"\u6b22\u8fce\u6765\u5230\u670d\u52a1\u5668!\");\n    console.log(player.getName() + \" \u5df2\u52a0\u5165\u670d\u52a1\u5668\");\n}\n</code></pre></p>"},{"location":"api/events/#onplayerquitplayer","title":"onPlayerQuit(player)","text":"<p>\u5f53\u73a9\u5bb6\u79bb\u5f00\u670d\u52a1\u5668\u65f6\u89e6\u53d1\u3002</p> <p>\u53c2\u6570\uff1a - <code>player</code> - \u73a9\u5bb6\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerQuit(player) {\n    console.log(player.getName() + \" \u5df2\u79bb\u5f00\u670d\u52a1\u5668\");\n}\n</code></pre></p>"},{"location":"api/events/#onplayerchatplayer-message","title":"onPlayerChat(player, message)","text":"<p>\u5f53\u73a9\u5bb6\u53d1\u9001\u804a\u5929\u6d88\u606f\u65f6\u89e6\u53d1\u3002</p> <p>\u53c2\u6570\uff1a - <code>player</code> - \u73a9\u5bb6\u5bf9\u8c61 - <code>message</code> - \u804a\u5929\u6d88\u606f\u5185\u5bb9\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerChat(player, message) {\n    console.log(player.getName() + \": \" + message);\n    // \u53ef\u4ee5\u4fee\u6539\u6d88\u606f\u5185\u5bb9\u6216\u53d6\u6d88\u6d88\u606f\n}\n</code></pre></p>"},{"location":"api/events/#onplayercommandplayer-command","title":"onPlayerCommand(player, command)","text":"<p>\u5f53\u73a9\u5bb6\u6267\u884c\u547d\u4ee4\u65f6\u89e6\u53d1\u3002</p> <p>\u53c2\u6570\uff1a - <code>player</code> - \u73a9\u5bb6\u5bf9\u8c61 - <code>command</code> - \u547d\u4ee4\u5185\u5bb9\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerCommand(player, command) {\n    console.log(player.getName() + \" \u6267\u884c\u4e86\u547d\u4ee4: \" + command);\n    // \u53ef\u4ee5\u4fee\u6539\u547d\u4ee4\u6216\u53d6\u6d88\u547d\u4ee4\u6267\u884c\n}\n</code></pre></p>"},{"location":"api/events/#onplayermoveplayer","title":"onPlayerMove(player)","text":"<p>\u5f53\u73a9\u5bb6\u79fb\u52a8\u65f6\u89e6\u53d1\u3002</p> <p>\u53c2\u6570\uff1a - <code>player</code> - \u73a9\u5bb6\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerMove(player) {\n    var pos = player.getPosition();\n    console.log(player.getName() + \" \u79fb\u52a8\u5230\u4e86: \" + pos.x + \", \" + pos.y + \", \" + pos.z);\n}\n</code></pre></p>"},{"location":"api/events/#_3","title":"\u4e8b\u4ef6\u5904\u7406","text":""},{"location":"api/events/#eventcancel","title":"event.cancel()","text":"<p>\u53d6\u6d88\u5f53\u524d\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\uff08\u4ec5\u5728\u53ef\u53d6\u6d88\u7684\u4e8b\u4ef6\u4e2d\u6709\u6548\uff09\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerChat(player, message) {\n    if (message.includes(\"\u654f\u611f\u8bcd\")) {\n        player.sendMessage(\"\u8bf7\u4e0d\u8981\u4f7f\u7528\u654f\u611f\u8bcd!\");\n        event.cancel(); // \u53d6\u6d88\u6d88\u606f\u53d1\u9001\n    }\n}\n</code></pre></p>"},{"location":"api/events/#allayoffeventtype","title":"allay.off(eventType)","text":"<p>\u53d6\u6d88\u76d1\u542c\u6307\u5b9a\u4e8b\u4ef6\u7c7b\u578b\u3002</p> <p>\u53c2\u6570\uff1a - <code>eventType</code> - \u4e8b\u4ef6\u7c7b\u578b\u5b57\u7b26\u4e32</p> <p>\u793a\u4f8b\uff1a <pre><code>// \u53d6\u6d88\u76d1\u542c\u73a9\u5bb6\u52a0\u5165\u4e8b\u4ef6\nallay.off(\"player.join\");\n</code></pre></p>"},{"location":"api/events/#allaycleanup","title":"allay.cleanup()","text":"<p>\u6e05\u7406\u6240\u6709\u4e8b\u4ef6\u76d1\u542c\u548c\u5b9a\u65f6\u4efb\u52a1\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>// \u6e05\u7406\u6240\u6709\u4e8b\u4ef6\u76d1\u542c\u548c\u5b9a\u65f6\u4efb\u52a1\nallay.cleanup();\n</code></pre></p>"},{"location":"api/events/#_4","title":"\u4e8b\u4ef6\u7c7b\u578b\u53c2\u8003","text":"<p>\u4ee5\u4e0b\u662f\u6240\u6709\u53ef\u7528\u4e8b\u4ef6\u7c7b\u578b\u7684\u53c2\u8003\uff1a</p>"},{"location":"api/events/#_5","title":"\u73a9\u5bb6\u4e8b\u4ef6","text":"\u4e8b\u4ef6\u7c7b\u578b \u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570 \u63cf\u8ff0 playerJoin onPlayerJoin \u5f53\u73a9\u5bb6\u52a0\u5165\u670d\u52a1\u5668\u65f6\u89e6\u53d1 playerQuit onPlayerQuit \u5f53\u73a9\u5bb6\u79bb\u5f00\u670d\u52a1\u5668\u65f6\u89e6\u53d1 playerChat onPlayerChat \u5f53\u73a9\u5bb6\u53d1\u9001\u804a\u5929\u6d88\u606f\u65f6\u89e6\u53d1 playerCommand onPlayerCommand \u5f53\u73a9\u5bb6\u6267\u884c\u547d\u4ee4\u65f6\u89e6\u53d1 playerMove onPlayerMove \u5f53\u73a9\u5bb6\u79fb\u52a8\u65f6\u89e6\u53d1 playerInteractBlock onPlayerInteractBlock \u5f53\u73a9\u5bb6\u4e0e\u65b9\u5757\u4ea4\u4e92\u65f6\u89e6\u53d1 playerConnect onPlayerConnect \u5f53\u73a9\u5bb6\u8fde\u63a5\u5230\u670d\u52a1\u5668\u65f6\u89e6\u53d1 playerDisconnect onPlayerDisconnect \u5f53\u73a9\u5bb6\u65ad\u5f00\u8fde\u63a5\u65f6\u89e6\u53d1 playerLogin onPlayerLogin \u5f53\u73a9\u5bb6\u767b\u5f55\u65f6\u89e6\u53d1 playerKick onPlayerKick \u5f53\u73a9\u5bb6\u88ab\u8e22\u51fa\u65f6\u89e6\u53d1 playerSpawn onPlayerSpawn \u5f53\u73a9\u5bb6\u751f\u6210\u65f6\u89e6\u53d1 playerDropItem onPlayerDropItem \u5f53\u73a9\u5bb6\u4e22\u51fa\u7269\u54c1\u65f6\u89e6\u53d1 playerBlockPick onPlayerBlockPick \u5f53\u73a9\u5bb6\u6361\u8d77\u65b9\u5757\u65f6\u89e6\u53d1 playerBookEdit onPlayerBookEdit \u5f53\u73a9\u5bb6\u7f16\u8f91\u4e66\u65f6\u89e6\u53d1 playerBucketEmpty onPlayerBucketEmpty \u5f53\u73a9\u5bb6\u5012\u7a7a\u6c34\u6876\u65f6\u89e6\u53d1 playerBucketFill onPlayerBucketFill \u5f53\u73a9\u5bb6\u88c5\u6ee1\u6c34\u6876\u65f6\u89e6\u53d1 playerChangeSkin onPlayerChangeSkin \u5f53\u73a9\u5bb6\u6539\u53d8\u76ae\u80a4\u65f6\u89e6\u53d1 playerCraftItem onPlayerCraftItem \u5f53\u73a9\u5bb6\u5408\u6210\u7269\u54c1\u65f6\u89e6\u53d1 playerEat onPlayerEat \u5f53\u73a9\u5bb6\u5403\u4e1c\u897f\u65f6\u89e6\u53d1 playerEnchantItem onPlayerEnchantItem \u5f53\u73a9\u5bb6\u9644\u9b54\u7269\u54c1\u65f6\u89e6\u53d1 playerExperienceLevelChange onPlayerExperienceLevelChange \u5f53\u73a9\u5bb6\u7ecf\u9a8c\u7b49\u7ea7\u6539\u53d8\u65f6\u89e6\u53d1 playerFoodLevelChange onPlayerFoodLevelChange \u5f53\u73a9\u5bb6\u9965\u997f\u503c\u6539\u53d8\u65f6\u89e6\u53d1 playerInteractEntity onPlayerInteractEntity \u5f53\u73a9\u5bb6\u4e0e\u5b9e\u4f53\u4ea4\u4e92\u65f6\u89e6\u53d1 playerItemHeld onPlayerItemHeld \u5f53\u73a9\u5bb6\u5207\u6362\u624b\u6301\u7269\u54c1\u65f6\u89e6\u53d1 playerPunchAir onPlayerPunchAir \u5f53\u73a9\u5bb6\u7a7a\u624b\u653b\u51fb\u65f6\u89e6\u53d1 playerPunchBlock onPlayerPunchBlock \u5f53\u73a9\u5bb6\u653b\u51fb\u65b9\u5757\u65f6\u89e6\u53d1 playerToggleCrawl onPlayerToggleCrawl \u5f53\u73a9\u5bb6\u5f00\u59cb/\u505c\u6b62\u722c\u884c\u65f6\u89e6\u53d1 playerToggleFlight onPlayerToggleFlight \u5f53\u73a9\u5bb6\u5f00\u59cb/\u505c\u6b62\u98de\u884c\u65f6\u89e6\u53d1 playerToggleGlide onPlayerToggleGlide \u5f53\u73a9\u5bb6\u5f00\u59cb/\u505c\u6b62\u6ed1\u7fd4\u65f6\u89e6\u53d1 playerToggleSwim onPlayerToggleSwim \u5f53\u73a9\u5bb6\u5f00\u59cb/\u505c\u6b62\u6e38\u6cf3\u65f6\u89e6\u53d1 playerUseItemInAir onPlayerUseItemInAir \u5f53\u73a9\u5bb6\u5728\u7a7a\u4e2d\u4f7f\u7528\u7269\u54c1\u65f6\u89e6\u53d1"},{"location":"api/events/#_6","title":"\u65b9\u5757\u4e8b\u4ef6","text":"\u4e8b\u4ef6\u7c7b\u578b \u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570 \u63cf\u8ff0 blockBreak onBlockBreak \u5f53\u65b9\u5757\u88ab\u7834\u574f\u65f6\u89e6\u53d1 blockPlace onBlockPlace \u5f53\u65b9\u5757\u88ab\u653e\u7f6e\u65f6\u89e6\u53d1 blockBurn onBlockBurn \u5f53\u65b9\u5757\u71c3\u70e7\u65f6\u89e6\u53d1 blockExplode onBlockExplode \u5f53\u65b9\u5757\u7206\u70b8\u65f6\u89e6\u53d1 blockFade onBlockFade \u5f53\u65b9\u5757\u892a\u8272\u65f6\u89e6\u53d1 blockFall onBlockFall \u5f53\u65b9\u5757\u4e0b\u843d\u65f6\u89e6\u53d1 blockGrow onBlockGrow \u5f53\u65b9\u5757\u751f\u957f\u65f6\u89e6\u53d1 blockIgnite onBlockIgnite \u5f53\u65b9\u5757\u88ab\u70b9\u71c3\u65f6\u89e6\u53d1 blockNeighborUpdate onBlockNeighborUpdate \u5f53\u65b9\u5757\u90bb\u5c45\u66f4\u65b0\u65f6\u89e6\u53d1 blockRandomUpdate onBlockRandomUpdate \u5f53\u65b9\u5757\u968f\u673a\u66f4\u65b0\u65f6\u89e6\u53d1 blockScheduleUpdate onBlockScheduleUpdate \u5f53\u65b9\u5757\u8ba1\u5212\u66f4\u65b0\u65f6\u89e6\u53d1 blockSpread onBlockSpread \u5f53\u65b9\u5757\u8513\u5ef6\u65f6\u89e6\u53d1"},{"location":"api/events/#_7","title":"\u5b9e\u4f53\u4e8b\u4ef6","text":"\u4e8b\u4ef6\u7c7b\u578b \u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570 \u63cf\u8ff0 entityDamage onEntityDamage \u5f53\u5b9e\u4f53\u53d7\u5230\u4f24\u5bb3\u65f6\u89e6\u53d1 entityDie onEntityDie \u5f53\u5b9e\u4f53\u6b7b\u4ea1\u65f6\u89e6\u53d1"},{"location":"api/events/#_8","title":"\u7269\u54c1\u4e0e\u5bb9\u5668\u4e8b\u4ef6","text":"\u4e8b\u4ef6\u7c7b\u578b \u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570 \u63cf\u8ff0 itemFrameUse onItemFrameUse \u5f53\u7269\u54c1\u5c55\u793a\u6846\u88ab\u4f7f\u7528\u65f6\u89e6\u53d1 containerOpen onContainerOpen \u5f53\u5bb9\u5668\u88ab\u6253\u5f00\u65f6\u89e6\u53d1 containerClose onContainerClose \u5f53\u5bb9\u5668\u88ab\u5173\u95ed\u65f6\u89e6\u53d1 containerItemMove onContainerItemMove \u5f53\u5bb9\u5668\u5185\u7269\u54c1\u79fb\u52a8\u65f6\u89e6\u53d1 containerItemPickup onContainerItemPickup \u5f53\u7269\u54c1\u88ab\u653e\u5165\u5bb9\u5668\u65f6\u89e6\u53d1 anvilTakeResult onAnvilTakeResult \u5f53\u73a9\u5bb6\u4ece\u94c1\u7827\u53d6\u51fa\u7269\u54c1\u65f6\u89e6\u53d1 anvilDamage onAnvilDamage \u5f53\u94c1\u7827\u53d7\u635f\u65f6\u89e6\u53d1 brewingStandBrew onBrewingStandBrew \u5f53\u917f\u9020\u53f0\u917f\u9020\u5b8c\u6210\u65f6\u89e6\u53d1 brewingStandConsumeFuel onBrewingStandConsumeFuel \u5f53\u917f\u9020\u53f0\u6d88\u8017\u71c3\u6599\u65f6\u89e6\u53d1 brewingStandStartBrew onBrewingStandStartBrew \u5f53\u917f\u9020\u53f0\u5f00\u59cb\u917f\u9020\u65f6\u89e6\u53d1 campfireSmelt onCampfireSmelt \u5f53\u8425\u706b\u7194\u70bc\u5b8c\u6210\u65f6\u89e6\u53d1 furnaceSmelt onFurnaceSmelt \u5f53\u7194\u7089\u7194\u70bc\u5b8c\u6210\u65f6\u89e6\u53d1 furnaceConsumeFuel onFurnaceConsumeFuel \u5f53\u7194\u7089\u6d88\u8017\u71c3\u6599\u65f6\u89e6\u53d1 grindstoneTakeResult onGrindstoneTakeResult \u5f53\u73a9\u5bb6\u4ece\u7802\u8f6e\u53d6\u51fa\u7269\u54c1\u65f6\u89e6\u53d1"},{"location":"api/events/#_9","title":"\u6db2\u4f53\u4e8b\u4ef6","text":"\u4e8b\u4ef6\u7c7b\u578b \u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570 \u63cf\u8ff0 liquidDecay onLiquidDecay \u5f53\u6db2\u4f53\u8870\u51cf\u65f6\u89e6\u53d1 liquidFlow onLiquidFlow \u5f53\u6db2\u4f53\u6d41\u52a8\u65f6\u89e6\u53d1 liquidHarden onLiquidHarden \u5f53\u6db2\u4f53\u786c\u5316\u65f6\u89e6\u53d1"},{"location":"api/events/#_10","title":"\u670d\u52a1\u5668\u4e8b\u4ef6","text":"\u4e8b\u4ef6\u7c7b\u578b \u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570 \u63cf\u8ff0 serverStop onServerStop \u5f53\u670d\u52a1\u5668\u505c\u6b62\u65f6\u89e6\u53d1 commandExecute onCommandExecute \u5f53\u547d\u4ee4\u88ab\u6267\u884c\u65f6\u89e6\u53d1 playerBan onPlayerBan \u5f53\u73a9\u5bb6\u88ab\u5c01\u7981\u65f6\u89e6\u53d1 playerUnban onPlayerUnban \u5f53\u73a9\u5bb6\u88ab\u89e3\u5c01\u65f6\u89e6\u53d1 ipBan onIpBan \u5f53IP\u88ab\u5c01\u7981\u65f6\u89e6\u53d1 ipUnban onIpUnban \u5f53IP\u88ab\u89e3\u5c01\u65f6\u89e6\u53d1 whitelistAddPlayer onWhitelistAddPlayer \u5f53\u73a9\u5bb6\u88ab\u52a0\u5165\u767d\u540d\u5355\u65f6\u89e6\u53d1 whitelistRemovePlayer onWhitelistRemovePlayer \u5f53\u73a9\u5bb6\u88ab\u79fb\u51fa\u767d\u540d\u5355\u65f6\u89e6\u53d1"},{"location":"api/events/#_11","title":"\u5176\u4ed6\u4e8b\u4ef6","text":"\u4e8b\u4ef6\u7c7b\u578b \u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570 \u63cf\u8ff0 signTextChange onSignTextChange \u5f53\u544a\u793a\u724c\u6587\u5b57\u6539\u53d8\u65f6\u89e6\u53d1 signWax onSignWax \u5f53\u544a\u793a\u724c\u88ab\u6253\u8721\u65f6\u89e6\u53d1"},{"location":"api/events/#_12","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u7684\u540d\u79f0\u5fc5\u987b\u4e0e\u4e0a\u8ff0\u89c4\u5b9a\u7684\u540d\u79f0\u5b8c\u5168\u5339\u914d</li> <li>\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u987a\u5e8f\u5fc5\u987b\u6b63\u786e</li> <li>\u5e76\u975e\u6240\u6709\u4e8b\u4ef6\u90fd\u53ef\u4ee5\u53d6\u6d88\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u4e8b\u4ef6\u7c7b\u578b</li> <li>\u590d\u6742\u7684\u4e8b\u4ef6\u5904\u7406\u903b\u8f91\u53ef\u80fd\u4f1a\u5f71\u54cd\u670d\u52a1\u5668\u6027\u80fd\uff0c\u5efa\u8bae\u4fdd\u6301\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7b80\u6d01\u9ad8\u6548</li> <li>\u5728\u811a\u672c\u5378\u8f7d\u65f6\uff0c\u6240\u6709\u4e8b\u4ef6\u76d1\u542c\u4f1a\u81ea\u52a8\u6e05\u7406\uff0c\u65e0\u9700\u624b\u52a8\u5904\u7406</li> </ol>"},{"location":"api/forms/","title":"\u8868\u5355API","text":"<p>\u8868\u5355API\u5141\u8bb8\u811a\u672c\u521b\u5efa\u548c\u663e\u793a\u5404\u79cd\u7c7b\u578b\u7684\u8868\u5355\uff0c\u7528\u4e8e\u4e0e\u73a9\u5bb6\u8fdb\u884c\u4ea4\u4e92\uff0c\u6536\u96c6\u73a9\u5bb6\u8f93\u5165\u6216\u663e\u793a\u9009\u9879\u3002</p>"},{"location":"api/forms/#_1","title":"\u8868\u5355\u7c7b\u578b","text":"<p>BlocklyAllay\u652f\u6301\u4e09\u79cd\u7c7b\u578b\u7684\u8868\u5355\uff1a</p> <ol> <li>SimpleForm - \u7b80\u5355\u8868\u5355\uff0c\u7528\u4e8e\u663e\u793a\u6587\u672c\u548c\u6309\u94ae\u9009\u9879</li> <li>ModalForm - \u6a21\u6001\u8868\u5355\uff0c\u7528\u4e8e\u663e\u793a\u786e\u8ba4\u5bf9\u8bdd\u6846\uff08\u786e\u5b9a/\u53d6\u6d88\uff09</li> <li>CustomForm - \u81ea\u5b9a\u4e49\u8868\u5355\uff0c\u7528\u4e8e\u6536\u96c6\u73a9\u5bb6\u8f93\u5165\uff08\u8f93\u5165\u6846\u3001\u5f00\u5173\u3001\u6ed1\u5757\u7b49\uff09</li> </ol>"},{"location":"api/forms/#api_1","title":"\u8868\u5355API\u57fa\u7840","text":""},{"location":"api/forms/#allaygetforms","title":"allay.getForms()","text":"<p>\u83b7\u53d6\u8868\u5355\u7ba1\u7406\u5668\u5bf9\u8c61\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u7ba1\u7406\u5668\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>function onEnable() {\n    var forms = allay.getForms();\n    console.log(\"\u8868\u5355\u7ba1\u7406\u5668\u5df2\u83b7\u53d6\");\n}\n</code></pre></p>"},{"location":"api/forms/#simpleform","title":"SimpleForm\uff08\u7b80\u5355\u8868\u5355\uff09","text":"<p>SimpleForm\u7528\u4e8e\u663e\u793a\u6587\u672c\u5185\u5bb9\u548c\u591a\u4e2a\u6309\u94ae\u9009\u9879\uff0c\u9002\u5408\u7528\u4e8e\u83dc\u5355\u7cfb\u7edf\u3002</p>"},{"location":"api/forms/#allaygetformscreatesimpleform","title":"allay.getForms().createSimpleForm()","text":"<p>\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7b80\u5355\u8868\u5355\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u7b80\u5355\u8868\u5355\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm();\n</code></pre></p>"},{"location":"api/forms/#formtitletitle","title":"form.title(title)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u7684\u6807\u9898\u3002</p> <p>\u53c2\u6570\uff1a - <code>title</code> - \u8868\u5355\u6807\u9898\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm()\n    .title(\"\u4e3b\u83dc\u5355\");\n</code></pre></p>"},{"location":"api/forms/#formcontentcontent","title":"form.content(content)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u7684\u5185\u5bb9\u6587\u672c\u3002</p> <p>\u53c2\u6570\uff1a - <code>content</code> - \u8868\u5355\u5185\u5bb9\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm()\n    .title(\"\u4e3b\u83dc\u5355\")\n    .content(\"\u8bf7\u9009\u62e9\u4e00\u4e2a\u9009\u9879\uff1a\");\n</code></pre></p>"},{"location":"api/forms/#formbuttontext","title":"form.button(text)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u6309\u94ae\u3002</p> <p>\u53c2\u6570\uff1a - <code>text</code> - \u6309\u94ae\u6587\u672c\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm()\n    .title(\"\u4e3b\u83dc\u5355\")\n    .content(\"\u8bf7\u9009\u62e9\u4e00\u4e2a\u9009\u9879\uff1a\")\n    .button(\"\u67e5\u770b\u4fe1\u606f\")\n    .button(\"\u9886\u53d6\u5956\u52b1\")\n    .button(\"\u9000\u51fa\");\n</code></pre></p>"},{"location":"api/forms/#formbuttonwithpathimagetext-path","title":"form.buttonWithPathImage(text, path)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u5e26\u672c\u5730\u56fe\u7247\u7684\u6309\u94ae\u3002</p> <p>\u53c2\u6570\uff1a - <code>text</code> - \u6309\u94ae\u6587\u672c\uff08String\uff09 - <code>path</code> - \u56fe\u7247\u8def\u5f84\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm()\n    .title(\"\u7269\u54c1\u5546\u5e97\")\n    .content(\"\u8bf7\u9009\u62e9\u8981\u8d2d\u4e70\u7684\u7269\u54c1\uff1a\")\n    .buttonWithPathImage(\"\u94bb\u77f3\u5251\", \"textures/items/diamond_sword\")\n    .buttonWithPathImage(\"\u94bb\u77f3\u9550\", \"textures/items/diamond_pickaxe\");\n</code></pre></p>"},{"location":"api/forms/#formbuttonwithurlimagetext-url","title":"form.buttonWithUrlImage(text, url)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u5e26URL\u56fe\u7247\u7684\u6309\u94ae\u3002</p> <p>\u53c2\u6570\uff1a - <code>text</code> - \u6309\u94ae\u6587\u672c\uff08String\uff09 - <code>url</code> - \u56fe\u7247URL\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm()\n    .title(\"\u56fe\u7247\u793a\u4f8b\")\n    .content(\"\u8bf7\u9009\u62e9\u4e00\u4e2a\u56fe\u7247\uff1a\")\n    .buttonWithUrlImage(\"\u56fe\u72471\", \"https://example.com/image1.png\")\n    .buttonWithUrlImage(\"\u56fe\u72472\", \"https://example.com/image2.png\");\n</code></pre></p>"},{"location":"api/forms/#formlabeltext","title":"form.label(text)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u6807\u7b7e\u6587\u672c\u3002</p> <p>\u53c2\u6570\uff1a - <code>text</code> - \u6807\u7b7e\u6587\u672c\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm()\n    .title(\"\u4fe1\u606f\u8868\u5355\")\n    .label(\"\u8fd9\u662f\u4e00\u4e2a\u6807\u7b7e\")\n    .content(\"\u8868\u5355\u5185\u5bb9\");\n</code></pre></p>"},{"location":"api/forms/#formheadertext","title":"form.header(text)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u6807\u9898\u6587\u672c\u3002</p> <p>\u53c2\u6570\uff1a - <code>text</code> - \u6807\u9898\u6587\u672c\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm()\n    .title(\"\u6807\u9898\u793a\u4f8b\")\n    .header(\"\u8fd9\u662f\u4e00\u4e2a\u6807\u9898\")\n    .content(\"\u8868\u5355\u5185\u5bb9\");\n</code></pre></p>"},{"location":"api/forms/#formdivider","title":"form.divider()","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u5206\u9694\u7ebf\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm()\n    .title(\"\u5206\u9694\u7ebf\u793a\u4f8b\")\n    .content(\"\u4e0a\u65b9\u5185\u5bb9\")\n    .divider()\n    .content(\"\u4e0b\u65b9\u5185\u5bb9\");\n</code></pre></p>"},{"location":"api/forms/#formonresponsecallback-thisarg","title":"form.onResponse(callback, thisArg)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u54cd\u5e94\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a - <code>callback</code> - \u6309\u94ae\u70b9\u51fb\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff1a\u6309\u94ae\u6587\u672c\uff08String\uff09\u548c\u6309\u94ae\u7d22\u5f15\uff08Number\uff09 - <code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm()\n    .title(\"\u4e3b\u83dc\u5355\")\n    .content(\"\u8bf7\u9009\u62e9\u4e00\u4e2a\u9009\u9879\uff1a\")\n    .button(\"\u67e5\u770b\u4fe1\u606f\")\n    .button(\"\u9886\u53d6\u5956\u52b1\")\n    .button(\"\u9000\u51fa\")\n    .onResponse(function(buttonText, buttonIndex) {\n        console.log(\"\u6309\u94ae\u6587\u672c: \" + buttonText);\n        console.log(\"\u6309\u94ae\u7d22\u5f15: \" + buttonIndex);\n        switch(buttonIndex) {\n            case 0:\n                player.sendMessage(\"\u67e5\u770b\u4fe1\u606f\");\n                break;\n            case 1:\n                player.sendMessage(\"\u9886\u53d6\u5956\u52b1\");\n                break;\n            case 2:\n                player.sendMessage(\"\u9000\u51fa\u83dc\u5355\");\n                break;\n        }\n    }, this);\n</code></pre></p>"},{"location":"api/forms/#formonclosecallback-thisarg","title":"form.onClose(callback, thisArg)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u5173\u95ed\u65f6\u7684\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a - <code>callback</code> - \u8868\u5355\u5173\u95ed\u65f6\u7684\u56de\u8c03\u51fd\u6570 - <code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm()\n    .title(\"\u6d4b\u8bd5\u8868\u5355\")\n    .content(\"\u8bf7\u5173\u95ed\u8868\u5355\")\n    .onClose(function() {\n        console.log(\"\u8868\u5355\u5df2\u5173\u95ed\");\n    }, this);\n</code></pre></p>"},{"location":"api/forms/#formshowplayer","title":"form.show(player)","text":"<p>\u663e\u793a\u8868\u5355\u7ed9\u73a9\u5bb6\u3002</p> <p>\u53c2\u6570\uff1a - <code>player</code> - \u73a9\u5bb6\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createSimpleForm()\n    .title(\"\u4e3b\u83dc\u5355\")\n    .content(\"\u8bf7\u9009\u62e9\u4e00\u4e2a\u9009\u9879\uff1a\")\n    .button(\"\u9009\u98791\")\n    .button(\"\u9009\u98792\")\n    .onResponse(function(buttonText, buttonIndex) {\n        player.sendMessage(\"\u4f60\u9009\u62e9\u4e86: \" + buttonText);\n    }, this);\n\nform.show(player);\n</code></pre></p>"},{"location":"api/forms/#modalform","title":"ModalForm\uff08\u6a21\u6001\u8868\u5355\uff09","text":"<p>ModalForm\u7528\u4e8e\u663e\u793a\u786e\u8ba4\u5bf9\u8bdd\u6846\uff0c\u73a9\u5bb6\u53ea\u80fd\u9009\u62e9\"\u786e\u5b9a\"\u6216\"\u53d6\u6d88\"\u3002</p>"},{"location":"api/forms/#allaygetformscreatemodalform","title":"allay.getForms().createModalForm()","text":"<p>\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6a21\u6001\u8868\u5355\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u6a21\u6001\u8868\u5355\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createModalForm();\n</code></pre></p>"},{"location":"api/forms/#formtitletitle_1","title":"form.title(title)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u7684\u6807\u9898\u3002</p> <p>\u53c2\u6570\uff1a - <code>title</code> - \u8868\u5355\u6807\u9898\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createModalForm()\n    .title(\"\u786e\u8ba4\u64cd\u4f5c\");\n</code></pre></p>"},{"location":"api/forms/#formcontentcontent_1","title":"form.content(content)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u7684\u5185\u5bb9\u6587\u672c\u3002</p> <p>\u53c2\u6570\uff1a - <code>content</code> - \u8868\u5355\u5185\u5bb9\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createModalForm()\n    .title(\"\u786e\u8ba4\u64cd\u4f5c\")\n    .content(\"\u4f60\u786e\u5b9a\u8981\u6267\u884c\u8fd9\u4e2a\u64cd\u4f5c\u5417\uff1f\");\n</code></pre></p>"},{"location":"api/forms/#formtruebuttontext","title":"form.trueButton(text)","text":"<p>\u8bbe\u7f6e\u786e\u5b9a\u6309\u94ae\u7684\u6587\u672c\u3002</p> <p>\u53c2\u6570\uff1a - <code>text</code> - \u786e\u5b9a\u6309\u94ae\u6587\u672c\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createModalForm()\n    .title(\"\u786e\u8ba4\u64cd\u4f5c\")\n    .content(\"\u4f60\u786e\u5b9a\u8981\u6267\u884c\u8fd9\u4e2a\u64cd\u4f5c\u5417\uff1f\")\n    .trueButton(\"\u786e\u5b9a\");\n</code></pre></p>"},{"location":"api/forms/#formfalsebuttontext","title":"form.falseButton(text)","text":"<p>\u8bbe\u7f6e\u53d6\u6d88\u6309\u94ae\u7684\u6587\u672c\u3002</p> <p>\u53c2\u6570\uff1a - <code>text</code> - \u53d6\u6d88\u6309\u94ae\u6587\u672c\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createModalForm()\n    .title(\"\u786e\u8ba4\u64cd\u4f5c\")\n    .content(\"\u4f60\u786e\u5b9a\u8981\u6267\u884c\u8fd9\u4e2a\u64cd\u4f5c\u5417\uff1f\")\n    .trueButton(\"\u786e\u5b9a\")\n    .falseButton(\"\u53d6\u6d88\");\n</code></pre></p>"},{"location":"api/forms/#formontruecallback-thisarg","title":"form.onTrue(callback, thisArg)","text":"<p>\u8bbe\u7f6e\u70b9\u51fb\u786e\u5b9a\u6309\u94ae\u65f6\u7684\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a - <code>callback</code> - \u70b9\u51fb\u786e\u5b9a\u6309\u94ae\u65f6\u7684\u56de\u8c03\u51fd\u6570 - <code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createModalForm()\n    .title(\"\u786e\u8ba4\u64cd\u4f5c\")\n    .content(\"\u4f60\u786e\u5b9a\u8981\u6267\u884c\u8fd9\u4e2a\u64cd\u4f5c\u5417\uff1f\")\n    .trueButton(\"\u786e\u5b9a\")\n    .falseButton(\"\u53d6\u6d88\")\n    .onTrue(function() {\n        player.sendMessage(\"\u4f60\u70b9\u51fb\u4e86\u786e\u5b9a\u6309\u94ae\");\n    }, this);\n</code></pre></p>"},{"location":"api/forms/#formonfalsecallback-thisarg","title":"form.onFalse(callback, thisArg)","text":"<p>\u8bbe\u7f6e\u70b9\u51fb\u53d6\u6d88\u6309\u94ae\u65f6\u7684\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a - <code>callback</code> - \u70b9\u51fb\u53d6\u6d88\u6309\u94ae\u65f6\u7684\u56de\u8c03\u51fd\u6570 - <code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createModalForm()\n    .title(\"\u786e\u8ba4\u64cd\u4f5c\")\n    .content(\"\u4f60\u786e\u5b9a\u8981\u6267\u884c\u8fd9\u4e2a\u64cd\u4f5c\u5417\uff1f\")\n    .trueButton(\"\u786e\u5b9a\")\n    .falseButton(\"\u53d6\u6d88\")\n    .onTrue(function() {\n        player.sendMessage(\"\u4f60\u70b9\u51fb\u4e86\u786e\u5b9a\u6309\u94ae\");\n    }, this)\n    .onFalse(function() {\n        player.sendMessage(\"\u4f60\u70b9\u51fb\u4e86\u53d6\u6d88\u6309\u94ae\");\n    }, this);\n</code></pre></p>"},{"location":"api/forms/#formonclosecallback-thisarg_1","title":"form.onClose(callback, thisArg)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u5173\u95ed\u65f6\u7684\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a - <code>callback</code> - \u8868\u5355\u5173\u95ed\u65f6\u7684\u56de\u8c03\u51fd\u6570 - <code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createModalForm()\n    .title(\"\u6d4b\u8bd5\u8868\u5355\")\n    .content(\"\u8bf7\u5173\u95ed\u8868\u5355\")\n    .onClose(function() {\n        console.log(\"\u8868\u5355\u5df2\u5173\u95ed\");\n    }, this);\n</code></pre></p>"},{"location":"api/forms/#formshowplayer_1","title":"form.show(player)","text":"<p>\u663e\u793a\u8868\u5355\u7ed9\u73a9\u5bb6\u3002</p> <p>\u53c2\u6570\uff1a - <code>player</code> - \u73a9\u5bb6\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createModalForm()\n    .title(\"\u786e\u8ba4\u5220\u9664\")\n    .content(\"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u7269\u54c1\u5417\uff1f\")\n    .trueButton(\"\u786e\u5b9a\")\n    .falseButton(\"\u53d6\u6d88\")\n    .onTrue(function() {\n        player.sendMessage(\"\u7269\u54c1\u5df2\u5220\u9664\");\n    }, this)\n    .onFalse(function() {\n        player.sendMessage(\"\u5220\u9664\u5df2\u53d6\u6d88\");\n    }, this);\n\nform.show(player);\n</code></pre></p>"},{"location":"api/forms/#customform","title":"CustomForm\uff08\u81ea\u5b9a\u4e49\u8868\u5355\uff09","text":"<p>CustomForm\u7528\u4e8e\u6536\u96c6\u73a9\u5bb6\u8f93\u5165\uff0c\u652f\u6301\u591a\u79cd\u8f93\u5165\u7ec4\u4ef6\u3002</p>"},{"location":"api/forms/#allaygetformscreatecustomform","title":"allay.getForms().createCustomForm()","text":"<p>\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u81ea\u5b9a\u4e49\u8868\u5355\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u81ea\u5b9a\u4e49\u8868\u5355\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm();\n</code></pre></p>"},{"location":"api/forms/#formtitletitle_2","title":"form.title(title)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u7684\u6807\u9898\u3002</p> <p>\u53c2\u6570\uff1a - <code>title</code> - \u8868\u5355\u6807\u9898\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u4e2a\u4eba\u4fe1\u606f\");\n</code></pre></p>"},{"location":"api/forms/#forminputlabel-placeholder-defaultvalue","title":"form.input(label, placeholder, defaultValue)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u8f93\u5165\u6846\u3002</p> <p>\u53c2\u6570\uff1a - <code>label</code> - \u8f93\u5165\u6846\u6807\u7b7e\uff08String\uff09 - <code>placeholder</code> - \u5360\u4f4d\u7b26\u6587\u672c\uff08String\uff09 - <code>defaultValue</code> - \u9ed8\u8ba4\u503c\uff08String\uff0c\u53ef\u9009\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u4e2a\u4eba\u4fe1\u606f\")\n    .input(\"\u7528\u6237\u540d\", \"\u8bf7\u8f93\u5165\u7528\u6237\u540d\", \"Steve\")\n    .input(\"\u90ae\u7bb1\", \"\u8bf7\u8f93\u5165\u90ae\u7bb1\");\n</code></pre></p>"},{"location":"api/forms/#formtogglelabel-defaultvalue","title":"form.toggle(label, defaultValue)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u5f00\u5173\uff08\u5e03\u5c14\u503c\u9009\u62e9\uff09\u3002</p> <p>\u53c2\u6570\uff1a - <code>label</code> - \u5f00\u5173\u6807\u7b7e\uff08String\uff09 - <code>defaultValue</code> - \u9ed8\u8ba4\u503c\uff08Boolean\uff0c\u53ef\u9009\uff0c\u9ed8\u8ba4false\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u8bbe\u7f6e\")\n    .toggle(\"\u542f\u7528\u901a\u77e5\", true)\n    .toggle(\"\u542f\u7528\u97f3\u6548\");\n</code></pre></p>"},{"location":"api/forms/#formdropdownlabel-options-defaultindex","title":"form.dropdown(label, options, defaultIndex)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u4e0b\u62c9\u83dc\u5355\u3002</p> <p>\u53c2\u6570\uff1a - <code>label</code> - \u4e0b\u62c9\u83dc\u5355\u6807\u7b7e\uff08String\uff09 - <code>options</code> - \u9009\u9879\u6570\u7ec4\uff08Array\uff09 - <code>defaultIndex</code> - \u9ed8\u8ba4\u9009\u4e2d\u7684\u9009\u9879\u7d22\u5f15\uff08Number\uff0c\u53ef\u9009\uff0c\u9ed8\u8ba40\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u9009\u62e9\u96be\u5ea6\")\n    .dropdown(\"\u96be\u5ea6\u7ea7\u522b\", [\"\u7b80\u5355\", \"\u666e\u901a\", \"\u56f0\u96be\"], 1);\n</code></pre></p>"},{"location":"api/forms/#formsliderlabel-min-max-step-defaultvalue","title":"form.slider(label, min, max, step, defaultValue)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u6ed1\u5757\u3002</p> <p>\u53c2\u6570\uff1a - <code>label</code> - \u6ed1\u5757\u6807\u7b7e\uff08String\uff09 - <code>min</code> - \u6700\u5c0f\u503c\uff08Number\uff09 - <code>max</code> - \u6700\u5927\u503c\uff08Number\uff09 - <code>step</code> - \u6b65\u957f\uff08Number\uff0c\u53ef\u9009\uff0c\u9ed8\u8ba41\uff09 - <code>defaultValue</code> - \u9ed8\u8ba4\u503c\uff08Number\uff0c\u53ef\u9009\uff0c\u9ed8\u8ba4min\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u97f3\u91cf\u8bbe\u7f6e\")\n    .slider(\"\u80cc\u666f\u97f3\u4e50\u97f3\u91cf\", 0, 100, 5, 50);\n</code></pre></p>"},{"location":"api/forms/#formstepsliderlabel-steps-defaultstep","title":"form.stepSlider(label, steps, defaultStep)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u6b65\u8fdb\u6ed1\u5757\u3002</p> <p>\u53c2\u6570\uff1a - <code>label</code> - \u6b65\u8fdb\u6ed1\u5757\u6807\u7b7e\uff08String\uff09 - <code>steps</code> - \u6b65\u9aa4\u6570\u7ec4\uff08Array\uff09 - <code>defaultStep</code> - \u9ed8\u8ba4\u6b65\u9aa4\u7d22\u5f15\uff08Number\uff0c\u53ef\u9009\uff0c\u9ed8\u8ba40\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u9009\u62e9\u8d28\u91cf\")\n    .stepSlider(\"\u56fe\u5f62\u8d28\u91cf\", [\"\u4f4e\", \"\u4e2d\", \"\u9ad8\", \"\u6781\u9ad8\"], 2);\n</code></pre></p>"},{"location":"api/forms/#formlabeltext_1","title":"form.label(text)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u6807\u7b7e\u6587\u672c\u3002</p> <p>\u53c2\u6570\uff1a - <code>text</code> - \u6807\u7b7e\u6587\u672c\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u4fe1\u606f\u8868\u5355\")\n    .label(\"\u8bf7\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f\")\n    .input(\"\u59d3\u540d\", \"\u8bf7\u8f93\u5165\u59d3\u540d\");\n</code></pre></p>"},{"location":"api/forms/#formheadertext_1","title":"form.header(text)","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u6807\u9898\u6587\u672c\u3002</p> <p>\u53c2\u6570\uff1a - <code>text</code> - \u6807\u9898\u6587\u672c\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u6807\u9898\u793a\u4f8b\")\n    .header(\"\u8fd9\u662f\u4e00\u4e2a\u6807\u9898\")\n    .input(\"\u5185\u5bb9\", \"\u8bf7\u8f93\u5165\u5185\u5bb9\");\n</code></pre></p>"},{"location":"api/forms/#formdivider_1","title":"form.divider()","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u5206\u9694\u7ebf\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u5206\u9694\u7ebf\u793a\u4f8b\")\n    .input(\"\u4e0a\u65b9\u8f93\u5165\u6846\", \"\u8bf7\u8f93\u5165\")\n    .divider()\n    .input(\"\u4e0b\u65b9\u8f93\u5165\u6846\", \"\u8bf7\u8f93\u5165\");\n</code></pre></p>"},{"location":"api/forms/#formpathiconpath","title":"form.pathIcon(path)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u7684\u8def\u5f84\u56fe\u6807\u3002</p> <p>\u53c2\u6570\uff1a - <code>path</code> - \u56fe\u6807\u8def\u5f84\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u56fe\u6807\u793a\u4f8b\")\n    .pathIcon(\"textures/items/diamond\")\n    .input(\"\u5185\u5bb9\", \"\u8bf7\u8f93\u5165\u5185\u5bb9\");\n</code></pre></p>"},{"location":"api/forms/#formurliconurl","title":"form.urlIcon(url)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u7684URL\u56fe\u6807\u3002</p> <p>\u53c2\u6570\uff1a - <code>url</code> - \u56fe\u6807URL\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"URL\u56fe\u6807\u793a\u4f8b\")\n    .urlIcon(\"https://example.com/icon.png\")\n    .input(\"\u5185\u5bb9\", \"\u8bf7\u8f93\u5165\u5185\u5bb9\");\n</code></pre></p>"},{"location":"api/forms/#formonresponsecallback-thisarg_1","title":"form.onResponse(callback, thisArg)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u54cd\u5e94\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a - <code>callback</code> - \u8868\u5355\u63d0\u4ea4\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u63a5\u6536\u4e00\u4e2a\u53c2\u6570\uff1a\u8868\u5355\u6570\u636e\u6570\u7ec4\uff08Array\uff09 - <code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u4e2a\u4eba\u4fe1\u606f\")\n    .input(\"\u7528\u6237\u540d\", \"\u8bf7\u8f93\u5165\u7528\u6237\u540d\", \"Steve\")\n    .input(\"\u5e74\u9f84\", \"\u8bf7\u8f93\u5165\u5e74\u9f84\", \"20\")\n    .toggle(\"\u540c\u610f\u6761\u6b3e\", true)\n    .dropdown(\"\u6027\u522b\", [\"\u7537\", \"\u5973\", \"\u5176\u4ed6\"], 0)\n    .slider(\"\u8eab\u9ad8(cm)\", 100, 250, 1, 170)\n    .onResponse(function(responses) {\n        var username = responses[0];\n        var age = parseInt(responses[1]);\n        var agree = responses[2];\n        var gender = responses[3];\n        var height = responses[4];\n\n        player.sendMessage(\"\u7528\u6237\u540d: \" + username);\n        player.sendMessage(\"\u5e74\u9f84: \" + age);\n        player.sendMessage(\"\u540c\u610f\u6761\u6b3e: \" + agree);\n        player.sendMessage(\"\u6027\u522b: \" + gender);\n        player.sendMessage(\"\u8eab\u9ad8: \" + height + \"cm\");\n    }, this);\n</code></pre></p>"},{"location":"api/forms/#formonclosecallback-thisarg_2","title":"form.onClose(callback, thisArg)","text":"<p>\u8bbe\u7f6e\u8868\u5355\u5173\u95ed\u65f6\u7684\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a - <code>callback</code> - \u8868\u5355\u5173\u95ed\u65f6\u7684\u56de\u8c03\u51fd\u6570 - <code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u8868\u5355\u5bf9\u8c61\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u6d4b\u8bd5\u8868\u5355\")\n    .content(\"\u8bf7\u5173\u95ed\u8868\u5355\")\n    .onClose(function() {\n        console.log(\"\u8868\u5355\u5df2\u5173\u95ed\");\n    }, this);\n</code></pre></p>"},{"location":"api/forms/#formshowplayer_2","title":"form.show(player)","text":"<p>\u663e\u793a\u8868\u5355\u7ed9\u73a9\u5bb6\u3002</p> <p>\u53c2\u6570\uff1a - <code>player</code> - \u73a9\u5bb6\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>var form = allay.getForms().createCustomForm()\n    .title(\"\u4e2a\u4eba\u4fe1\u606f\")\n    .input(\"\u7528\u6237\u540d\", \"\u8bf7\u8f93\u5165\u7528\u6237\u540d\")\n    .toggle(\"\u540c\u610f\u6761\u6b3e\")\n    .onResponse(function(responses) {\n        player.sendMessage(\"\u4f60\u63d0\u4ea4\u4e86\u8868\u5355\");\n    }, this);\n\nform.show(player);\n</code></pre></p>"},{"location":"api/forms/#_2","title":"\u793a\u4f8b\uff1a\u5b8c\u6574\u7684\u8868\u5355\u7cfb\u7edf","text":"<pre><code>function onPlayerJoin(player) {\n    showWelcomeForm(player);\n}\n\nfunction onPlayerCommand(player, command) {\n    if (command === \"/menu\") {\n        showMainMenu(player);\n        event.cancel();\n    }\n}\n\nfunction showWelcomeForm(player) {\n    var form = allay.getForms().createSimpleForm()\n        .title(\"\u6b22\u8fce\u6765\u5230\u670d\u52a1\u5668!\")\n        .content(\"\u8bf7\u9009\u62e9\u4e00\u4e2a\u9009\u9879\u5f00\u59cb\u6e38\u620f\uff1a\")\n        .button(\"\u5f00\u59cb\u6e38\u620f\")\n        .button(\"\u67e5\u770b\u89c4\u5219\")\n        .button(\"\u9000\u51fa\")\n        .onResponse(function(buttonText, buttonIndex) {\n            switch(buttonIndex) {\n                case 0:\n                    player.sendMessage(\"\u6e38\u620f\u5f00\u59cb!\");\n                    break;\n                case 1:\n                    showRulesForm(player);\n                    break;\n                case 2:\n                    player.kick(\"\u6b22\u8fce\u4e0b\u6b21\u518d\u6765!\");\n                    break;\n            }\n        }, this);\n\n    form.show(player);\n}\n\nfunction showRulesForm(player) {\n    var form = allay.getForms().createSimpleForm()\n        .title(\"\u670d\u52a1\u5668\u89c4\u5219\")\n        .content(\"1. \u7981\u6b62\u4f5c\u5f0a\\n2. \u7981\u6b62\u5237\u5c4f\\n3. \u7981\u6b62\u8fb1\u9a82\u4ed6\u4eba\\n4. \u8bf7\u7231\u62a4\u670d\u52a1\u5668\u73af\u5883\")\n        .button(\"\u6211\u540c\u610f\")\n        .button(\"\u8fd4\u56de\")\n        .onResponse(function(buttonText, buttonIndex) {\n            if (buttonIndex === 0) {\n                player.sendMessage(\"\u611f\u8c22\u4f60\u9075\u5b88\u89c4\u5219!\");\n                showMainMenu(player);\n            } else {\n                showWelcomeForm(player);\n            }\n        }, this);\n\n    form.show(player);\n}\n\nfunction showMainMenu(player) {\n    var form = allay.getForms().createSimpleForm()\n        .title(\"\u4e3b\u83dc\u5355\")\n        .content(\"\u8bf7\u9009\u62e9\u4e00\u4e2a\u9009\u9879\uff1a\")\n        .button(\"\u4e2a\u4eba\u4fe1\u606f\")\n        .button(\"\u8bbe\u7f6e\")\n        .button(\"\u5546\u5e97\")\n        .button(\"\u9000\u51fa\")\n        .onResponse(function(buttonText, buttonIndex) {\n            switch(buttonIndex) {\n                case 0:\n                    showProfileForm(player);\n                    break;\n                case 1:\n                    showSettingsForm(player);\n                    break;\n                case 2:\n                    showShopForm(player);\n                    break;\n                case 3:\n                    player.sendMessage(\"\u5df2\u9000\u51fa\u83dc\u5355\");\n                    break;\n            }\n        }, this);\n\n    form.show(player);\n}\n\nfunction showProfileForm(player) {\n    var form = allay.getForms().createCustomForm()\n        .title(\"\u4e2a\u4eba\u4fe1\u606f\")\n        .input(\"\u6635\u79f0\", \"\u8bf7\u8f93\u5165\u6635\u79f0\", player.getDisplayName())\n        .input(\"\u4e2a\u6027\u7b7e\u540d\", \"\u8bf7\u8f93\u5165\u4e2a\u6027\u7b7e\u540d\")\n        .dropdown(\"\u804c\u4e1a\", [\"\u6218\u58eb\", \"\u6cd5\u5e08\", \"\u5c04\u624b\", \"\u533b\u751f\"], 0)\n        .onResponse(function(responses) {\n            var nickname = responses[0];\n            var signature = responses[1];\n            var profession = responses[2];\n\n            player.sendMessage(\"\u4e2a\u4eba\u4fe1\u606f\u5df2\u66f4\u65b0!\");\n            player.sendMessage(\"\u6635\u79f0: \" + nickname);\n            player.sendMessage(\"\u4e2a\u6027\u7b7e\u540d: \" + signature);\n            player.sendMessage(\"\u804c\u4e1a: \" + profession);\n        }, this);\n\n    form.show(player);\n}\n\nfunction showSettingsForm(player) {\n    var form = allay.getForms().createCustomForm()\n        .title(\"\u8bbe\u7f6e\")\n        .toggle(\"\u542f\u7528\u804a\u5929\u6ee4\u955c\", true)\n        .toggle(\"\u63a5\u6536\u79c1\u4eba\u6d88\u606f\", true)\n        .toggle(\"\u663e\u793a\u7c92\u5b50\u6548\u679c\", false)\n        .slider(\"\u97f3\u6548\u97f3\u91cf\", 0, 100, 5, 50)\n        .onResponse(function(responses) {\n            var chatFilter = responses[0];\n            var privateMessages = responses[1];\n            var particles = responses[2];\n            var volume = responses[3];\n\n            player.sendMessage(\"\u8bbe\u7f6e\u5df2\u4fdd\u5b58!\");\n            // \u8fd9\u91cc\u53ef\u4ee5\u4fdd\u5b58\u8bbe\u7f6e\u5230\u6587\u4ef6\n        }, this);\n\n    form.show(player);\n}\n\nfunction showShopForm(player) {\n    var form = allay.getForms().createSimpleForm()\n        .title(\"\u5546\u5e97\")\n        .content(\"\u8bf7\u9009\u62e9\u8981\u8d2d\u4e70\u7684\u7269\u54c1\uff1a\")\n        .buttonWithPathImage(\"\u94bb\u77f3\u5251\", \"textures/items/diamond_sword\")\n        .buttonWithPathImage(\"\u94bb\u77f3\u9550\", \"textures/items/diamond_pickaxe\")\n        .buttonWithPathImage(\"\u91d1\u82f9\u679c\", \"textures/items/golden_apple\")\n        .button(\"\u8fd4\u56de\")\n        .onResponse(function(buttonText, buttonIndex) {\n            if (buttonIndex === 3) {\n                showMainMenu(player);\n                return;\n            }\n\n            var items = [\"\u94bb\u77f3\u5251\", \"\u94bb\u77f3\u9550\", \"\u91d1\u82f9\u679c\"];\n            var item = items[buttonIndex];\n\n            // \u786e\u8ba4\u8d2d\u4e70\n            var confirmForm = allay.getForms().createModalForm()\n                .title(\"\u786e\u8ba4\u8d2d\u4e70\")\n                .content(\"\u4f60\u786e\u5b9a\u8981\u8d2d\u4e70 \" + item + \" \u5417\uff1f\")\n                .trueButton(\"\u786e\u5b9a\")\n                .falseButton(\"\u53d6\u6d88\")\n                .onTrue(function() {\n                    player.sendMessage(\"\u4f60\u5df2\u6210\u529f\u8d2d\u4e70 \" + item + \"!\");\n                }, this)\n                .onFalse(function() {\n                    player.sendMessage(\"\u8d2d\u4e70\u5df2\u53d6\u6d88\");\n                }, this);\n\n            confirmForm.show(player);\n        }, this);\n\n    form.show(player);\n}\n</code></pre>"},{"location":"api/forms/#_3","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u8868\u5355\u7ec4\u4ef6\u7684\u6dfb\u52a0\u987a\u5e8f\u4f1a\u5f71\u54cd\u63d0\u4ea4\u6570\u636e\u7684\u987a\u5e8f</li> <li>\u8868\u5355\u6807\u9898\u548c\u5185\u5bb9\u5e94\u7b80\u6d01\u660e\u4e86\uff0c\u907f\u514d\u8fc7\u957f</li> <li>\u6309\u94ae\u6587\u672c\u5e94\u6e05\u6670\u63cf\u8ff0\u5176\u529f\u80fd</li> <li>\u81ea\u5b9a\u4e49\u8868\u5355\u7684\u7ec4\u4ef6\u6570\u91cf\u4e0d\u5b9c\u8fc7\u591a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc710\u4e2a</li> <li>\u8868\u5355\u663e\u793a\u540e\uff0c\u73a9\u5bb6\u5fc5\u987b\u5b8c\u6210\u8868\u5355\u624d\u80fd\u7ee7\u7eed\u6e38\u620f</li> <li>\u8868\u5355\u5173\u95ed\u4e8b\u4ef6\uff08onClose\uff09\u4f1a\u5728\u73a9\u5bb6\u5173\u95ed\u8868\u5355\u65f6\u89e6\u53d1\uff0c\u800c\u4e0d\u662f\u63d0\u4ea4\u8868\u5355\u65f6\u89e6\u53d1</li> </ol>"},{"location":"api/items/","title":"\u7269\u54c1 API","text":"<p>\u7269\u54c1 API \u5141\u8bb8\u60a8\u4e0e\u6e38\u620f\u4e2d\u7684\u7269\u54c1\u4ea4\u4e92\uff0c\u5305\u62ec\u83b7\u53d6\u7269\u54c1\u4fe1\u606f\u548c\u64cd\u4f5c\u7269\u54c1\u3002</p>"},{"location":"api/items/#_1","title":"\u7269\u54c1\u65b9\u6cd5","text":""},{"location":"api/items/#_2","title":"\u83b7\u53d6\u7269\u54c1\u4fe1\u606f","text":""},{"location":"api/items/#_3","title":"\u7c7b\u578b","text":"<pre><code>item.getType()\n</code></pre> <p>\u8fd4\u56de\u503c\uff1a - (string): \u7269\u54c1\u7c7b\u578b\uff08\u4f8b\u5982\uff1a\"minecraft:diamond_sword\", \"minecraft:apple\"\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>// \u5047\u8bbe 'item' \u662f\u4e00\u4e2a\u7269\u54c1\u5bf9\u8c61\nconst itemType = item.getType();\nallay.log(`\u7269\u54c1\u7c7b\u578b: ${itemType}`);\n</code></pre></p>"},{"location":"api/items/#_4","title":"\u6570\u91cf","text":"<pre><code>item.getCount()\n</code></pre> <p>\u8fd4\u56de\u503c\uff1a - (number): \u5806\u53e0\u4e2d\u7684\u7269\u54c1\u6570\u91cf</p> <p>\u793a\u4f8b\uff1a <pre><code>const count = item.getCount();\nallay.log(`\u7269\u54c1\u6570\u91cf: ${count}`);\n</code></pre></p>"},{"location":"api/items/#_5","title":"\u81ea\u5b9a\u4e49\u540d\u79f0","text":"<pre><code>item.getCustomName()\n</code></pre> <p>\u8fd4\u56de\u503c\uff1a - (string): \u7269\u54c1\u7684\u81ea\u5b9a\u4e49\u540d\u79f0\uff0c\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u540d\u79f0\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32</p> <p>\u793a\u4f8b\uff1a <pre><code>const customName = item.getCustomName();\nif (customName) {\n    allay.log(`\u7269\u54c1\u540d\u79f0: ${customName}`);\n} else {\n    allay.log(\"\u7269\u54c1\u6ca1\u6709\u81ea\u5b9a\u4e49\u540d\u79f0\");\n}\n</code></pre></p>"},{"location":"api/items/#_6","title":"\u793a\u4f8b\u7528\u6cd5","text":"<pre><code>// \u793a\u4f8b\uff1a\u83b7\u53d6\u73a9\u5bb6\u624b\u6301\u7269\u54c1\u7684\u4fe1\u606f\nallay.onPlayerInteract((event) =&gt; {\n    const player = event.getPlayer();\n    const heldItem = player.getHeldItem();\n\n    if (heldItem) {\n        const type = heldItem.getType();\n        const count = heldItem.getCount();\n        const name = heldItem.getCustomName();\n\n        player.sendMessage(`\u4f60\u624b\u6301\u7684\u662f: ${type}`);\n        player.sendMessage(`\u6570\u91cf: ${count}`);\n        if (name) {\n            player.sendMessage(`\u81ea\u5b9a\u4e49\u540d\u79f0: ${name}`);\n        }\n    } else {\n        player.sendMessage(\"\u4f60\u6ca1\u6709\u624b\u6301\u4efb\u4f55\u7269\u54c1\");\n    }\n});\n</code></pre>"},{"location":"api/items/#_7","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u7269\u54c1\u5bf9\u8c61\u901a\u5e38\u4ece\u73a9\u5bb6\u7269\u54c1\u680f\u3001\u6389\u843d\u7269\u54c1\u6216\u5408\u6210\u4e8b\u4ef6\u4e2d\u83b7\u53d6</li> <li>\u53ef\u7528\u7684 API \u65b9\u6cd5\u53ef\u80fd\u56e0\u7269\u54c1\u7c7b\u578b\u800c\u5f02</li> <li>\u53ef\u5806\u53e0\u7269\u54c1\u7684 getCount() \u8fd4\u56de\u503c\u4f1a\u5927\u4e8e 1</li> </ul>"},{"location":"api/players/","title":"\u73a9\u5bb6API","text":"<p>\u73a9\u5bb6API\u63d0\u4f9b\u4e86\u7ba1\u7406\u548c\u64cd\u4f5c\u73a9\u5bb6\u7684\u5404\u79cd\u529f\u80fd\uff0c\u5305\u62ec\u83b7\u53d6\u73a9\u5bb6\u4fe1\u606f\u3001\u53d1\u9001\u6d88\u606f\u3001\u4f20\u9001\u73a9\u5bb6\u7b49\u3002</p>"},{"location":"api/players/#_1","title":"\u83b7\u53d6\u73a9\u5bb6\u4fe1\u606f","text":""},{"location":"api/players/#playergetname","title":"player.getName()","text":"<p>\u83b7\u53d6\u73a9\u5bb6\u7684\u540d\u79f0\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u73a9\u5bb6\u540d\u79f0\u5b57\u7b26\u4e32\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerJoin(player) {\n    var name = player.getName();\n    console.log(\"\u73a9\u5bb6\u540d\u79f0: \" + name);\n}\n</code></pre></p>"},{"location":"api/players/#playergetdisplayname","title":"player.getDisplayName()","text":"<p>\u83b7\u53d6\u73a9\u5bb6\u7684\u663e\u793a\u540d\u79f0\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u73a9\u5bb6\u663e\u793a\u540d\u79f0\u5b57\u7b26\u4e32\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerJoin(player) {\n    var displayName = player.getDisplayName();\n    console.log(\"\u73a9\u5bb6\u663e\u793a\u540d\u79f0: \" + displayName);\n}\n</code></pre></p>"},{"location":"api/players/#playergethealth","title":"player.getHealth()","text":"<p>\u83b7\u53d6\u73a9\u5bb6\u7684\u5f53\u524d\u751f\u547d\u503c\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u73a9\u5bb6\u751f\u547d\u503c\uff08Number\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerJoin(player) {\n    var health = player.getHealth();\n    player.sendMessage(\"\u4f60\u7684\u5f53\u524d\u751f\u547d\u503c: \" + health);\n}\n</code></pre></p>"},{"location":"api/players/#playergetposition","title":"player.getPosition()","text":"<p>\u83b7\u53d6\u73a9\u5bb6\u7684\u5f53\u524d\u4f4d\u7f6e\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u5305\u542bx\u3001y\u3001z\u5750\u6807\u7684\u4f4d\u7f6e\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerMove(player) {\n    var pos = player.getPosition();\n    console.log(player.getName() + \" \u7684\u4f4d\u7f6e: \" + pos.x + \", \" + pos.y + \", \" + pos.z);\n}\n</code></pre></p>"},{"location":"api/players/#_2","title":"\u73a9\u5bb6\u4ea4\u4e92","text":""},{"location":"api/players/#playersendmessagemessage","title":"player.sendMessage(message)","text":"<p>\u5411\u73a9\u5bb6\u53d1\u9001\u6d88\u606f\u3002</p> <p>\u53c2\u6570\uff1a - <code>message</code> - \u8981\u53d1\u9001\u7684\u6d88\u606f\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerJoin(player) {\n    player.sendMessage(\"\u6b22\u8fce\u6765\u5230\u670d\u52a1\u5668!\");\n    player.sendMessage(\"\u8fd9\u662f\u7b2c\u4e8c\u6761\u6d88\u606f\");\n}\n</code></pre></p>"},{"location":"api/players/#playerkickreason","title":"player.kick(reason)","text":"<p>\u5c06\u73a9\u5bb6\u8e22\u51fa\u670d\u52a1\u5668\u3002</p> <p>\u53c2\u6570\uff1a - <code>reason</code> - \u8e22\u51fa\u539f\u56e0\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerChat(player, message) {\n    if (message.includes(\"\u4f5c\u5f0a\")) {\n        player.kick(\"\u7981\u6b62\u4f5c\u5f0a!\");\n    }\n}\n</code></pre></p>"},{"location":"api/players/#_3","title":"\u73a9\u5bb6\u7ba1\u7406","text":""},{"location":"api/players/#allaygetonlineplayers","title":"allay.getOnlinePlayers()","text":"<p>\u83b7\u53d6\u670d\u52a1\u5668\u4e0a\u6240\u6709\u5728\u7ebf\u73a9\u5bb6\u7684\u5217\u8868\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u5728\u7ebf\u73a9\u5bb6\u5bf9\u8c61\u6570\u7ec4\uff08Array\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function broadcastMessage(message) {\n    var onlinePlayers = allay.getOnlinePlayers();\n    onlinePlayers.forEach(function(player) {\n        player.sendMessage(message);\n    });\n    console.log(\"\u5411 \" + onlinePlayers.length + \" \u540d\u73a9\u5bb6\u53d1\u9001\u4e86\u5e7f\u64ad\u6d88\u606f\");\n}\n</code></pre></p>"},{"location":"api/players/#allaygetplayername","title":"allay.getPlayer(name)","text":"<p>\u6839\u636e\u540d\u79f0\u83b7\u53d6\u73a9\u5bb6\u5bf9\u8c61\u3002</p> <p>\u53c2\u6570\uff1a - <code>name</code> - \u73a9\u5bb6\u540d\u79f0\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u73a9\u5bb6\u5bf9\u8c61\uff0c\u5982\u679c\u73a9\u5bb6\u4e0d\u5728\u7ebf\u5219\u8fd4\u56denull</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerCommand(player, command) {\n    if (command.startsWith(\"/tpall\")) {\n        // \u83b7\u53d6\u547d\u4ee4\u4e2d\u6307\u5b9a\u7684\u73a9\u5bb6\u540d\u79f0\n        var targetName = command.split(\" \")[1];\n        var targetPlayer = allay.getPlayer(targetName);\n\n        if (targetPlayer) {\n            var pos = targetPlayer.getPosition();\n            // \u4f20\u9001\u6240\u6709\u73a9\u5bb6\u5230\u76ee\u6807\u73a9\u5bb6\u4f4d\u7f6e\n            var onlinePlayers = allay.getOnlinePlayers();\n            onlinePlayers.forEach(function(p) {\n                p.teleport(pos.x, pos.y, pos.z);\n                p.sendMessage(\"\u4f60\u5df2\u88ab\u4f20\u9001\u5230 \" + targetName + \" \u4f4d\u7f6e!\");\n            });\n        } else {\n            player.sendMessage(\"\u73a9\u5bb6 \" + targetName + \" \u4e0d\u5728\u7ebf!\");\n        }\n    }\n}\n</code></pre></p>"},{"location":"api/players/#_4","title":"\u73a9\u5bb6\u4e8b\u4ef6","text":""},{"location":"api/players/#onplayerjoinplayer","title":"onPlayerJoin(player)","text":"<p>\u5f53\u73a9\u5bb6\u52a0\u5165\u670d\u52a1\u5668\u65f6\u89e6\u53d1\u3002</p> <p>\u53c2\u6570\uff1a - <code>player</code> - \u73a9\u5bb6\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerJoin(player) {\n    player.sendMessage(\"\u6b22\u8fce\u6765\u5230\u670d\u52a1\u5668!\");\n    console.log(player.getName() + \" \u5df2\u52a0\u5165\u670d\u52a1\u5668\");\n}\n</code></pre></p>"},{"location":"api/players/#onplayerquitplayer","title":"onPlayerQuit(player)","text":"<p>\u5f53\u73a9\u5bb6\u79bb\u5f00\u670d\u52a1\u5668\u65f6\u89e6\u53d1\u3002</p> <p>\u53c2\u6570\uff1a - <code>player</code> - \u73a9\u5bb6\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerQuit(player) {\n    console.log(player.getName() + \" \u5df2\u79bb\u5f00\u670d\u52a1\u5668\");\n}\n</code></pre></p>"},{"location":"api/players/#onplayerchatplayer-message","title":"onPlayerChat(player, message)","text":"<p>\u5f53\u73a9\u5bb6\u53d1\u9001\u804a\u5929\u6d88\u606f\u65f6\u89e6\u53d1\u3002</p> <p>\u53c2\u6570\uff1a - <code>player</code> - \u73a9\u5bb6\u5bf9\u8c61 - <code>message</code> - \u804a\u5929\u6d88\u606f\u5185\u5bb9\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerChat(player, message) {\n    console.log(player.getName() + \": \" + message);\n}\n</code></pre></p>"},{"location":"api/players/#_5","title":"\u793a\u4f8b\uff1a\u73a9\u5bb6\u7ba1\u7406\u7cfb\u7edf","text":"<pre><code>// \u73a9\u5bb6\u7ba1\u7406\u7cfb\u7edf\u793a\u4f8b\n\nvar playerData = {};\n\nfunction onLoad() {\n    console.log(\"\u73a9\u5bb6\u7ba1\u7406\u7cfb\u7edf\u5df2\u52a0\u8f7d\");\n}\n\nfunction onEnable() {\n    console.log(\"\u73a9\u5bb6\u7ba1\u7406\u7cfb\u7edf\u5df2\u542f\u7528\");\n\n    // \u6bcf\u5206\u949f\u68c0\u67e5\u4e00\u6b21\u73a9\u5bb6\u6570\u636e\n    allay.runRepeating(1200, function() {\n        savePlayerData();\n    }, this);\n}\n\nfunction onDisable() {\n    console.log(\"\u73a9\u5bb6\u7ba1\u7406\u7cfb\u7edf\u5df2\u7981\u7528\");\n    savePlayerData();\n    allay.cleanup();\n}\n\nfunction onPlayerJoin(player) {\n    var name = player.getName();\n\n    // \u521d\u59cb\u5316\u73a9\u5bb6\u6570\u636e\n    if (!playerData[name]) {\n        playerData[name] = {\n            joinCount: 0,\n            totalPlayTime: 0,\n            lastJoinTime: Date.now()\n        };\n    }\n\n    playerData[name].joinCount++;\n    playerData[name].lastJoinTime = Date.now();\n\n    player.sendMessage(\"\u6b22\u8fce\u56de\u6765\uff0c\" + player.getDisplayName() + \"!\");\n    player.sendMessage(\"\u8fd9\u662f\u4f60\u7b2c \" + playerData[name].joinCount + \" \u6b21\u52a0\u5165\u670d\u52a1\u5668\");\n\n    console.log(name + \" \u5df2\u52a0\u5165\u670d\u52a1\u5668\uff0c\u603b\u52a0\u5165\u6b21\u6570: \" + playerData[name].joinCount);\n}\n\nfunction onPlayerQuit(player) {\n    var name = player.getName();\n\n    if (playerData[name]) {\n        // \u8ba1\u7b97\u672c\u6b21\u6e38\u620f\u65f6\u95f4\n        var playTime = Date.now() - playerData[name].lastJoinTime;\n        playerData[name].totalPlayTime += playTime;\n\n        console.log(name + \" \u5df2\u79bb\u5f00\u670d\u52a1\u5668\uff0c\u672c\u6b21\u6e38\u620f\u65f6\u95f4: \" + Math.round(playTime / 1000) + \" \u79d2\");\n        console.log(name + \" \u603b\u6e38\u620f\u65f6\u95f4: \" + Math.round(playerData[name].totalPlayTime / 1000) + \" \u79d2\");\n    }\n}\n\nfunction savePlayerData() {\n    var data = JSON.stringify(playerData, null, 2);\n    allay.getFiles().writeFile(\"player_data.json\", data, true);\n    console.log(\"\u73a9\u5bb6\u6570\u636e\u5df2\u4fdd\u5b58\");\n}\n</code></pre>"},{"location":"api/players/#_6","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u73a9\u5bb6\u5bf9\u8c61\u5728\u73a9\u5bb6\u79bb\u7ebf\u540e\u4f1a\u5931\u6548\uff0c\u4e0d\u8981\u957f\u671f\u5b58\u50a8\u73a9\u5bb6\u5bf9\u8c61\u5f15\u7528</li> <li>\u5728\u5904\u7406\u5927\u91cf\u73a9\u5bb6\u65f6\uff0c\u6ce8\u610f\u6027\u80fd\u95ee\u9898\uff0c\u907f\u514d\u5728\u5faa\u73af\u4e2d\u6267\u884c\u590d\u6742\u64cd\u4f5c</li> <li>\u5411\u73a9\u5bb6\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u6ce8\u610f\u6d88\u606f\u5185\u5bb9\u7684\u683c\u5f0f\u548c\u957f\u5ea6</li> <li>\u4f7f\u7528<code>getPlayer(name)</code>\u83b7\u53d6\u73a9\u5bb6\u65f6\uff0c\u9700\u8981\u68c0\u67e5\u8fd4\u56de\u503c\u662f\u5426\u4e3anull</li> <li>\u73a9\u5bb6\u7684\u4f4d\u7f6e\u5750\u6807\u662f\u76f8\u5bf9\u4e8e\u4e16\u754c\u7684\uff0c\u4e0d\u540c\u4e16\u754c\u7684\u5750\u6807\u4e0d\u517c\u5bb9</li> </ol>"},{"location":"api/scheduler/","title":"\u8c03\u5ea6\u5668API","text":"<p>\u8c03\u5ea6\u5668API\u5141\u8bb8\u811a\u672c\u5728\u6307\u5b9a\u65f6\u95f4\u540e\u6267\u884c\u4ee3\u7801\uff0c\u6216\u8005\u5b9a\u671f\u91cd\u590d\u6267\u884c\u4ee3\u7801\uff0c\u662f\u5b9e\u73b0\u5ef6\u8fdf\u64cd\u4f5c\u548c\u5b9a\u65f6\u4efb\u52a1\u7684\u91cd\u8981\u5de5\u5177\u3002</p>"},{"location":"api/scheduler/#_1","title":"\u57fa\u672c\u6982\u5ff5","text":"<ul> <li>\u523b\uff08Tick\uff09\uff1a\u6e38\u620f\u4e2d\u7684\u65f6\u95f4\u5355\u4f4d\uff0c1\u79d2\u7b49\u4e8e20\u523b</li> <li>\u5ef6\u8fdf\u6267\u884c\uff1a\u5728\u6307\u5b9a\u523b\u6570\u540e\u6267\u884c\u4e00\u6b21\u4ee3\u7801</li> <li>\u91cd\u590d\u6267\u884c\uff1a\u6bcf\u9694\u6307\u5b9a\u523b\u6570\u91cd\u590d\u6267\u884c\u4ee3\u7801</li> <li>\u5ef6\u8fdf\u91cd\u590d\u6267\u884c\uff1a\u5728\u5ef6\u8fdf\u6307\u5b9a\u523b\u6570\u540e\uff0c\u5f00\u59cb\u91cd\u590d\u6267\u884c\u4ee3\u7801</li> </ul>"},{"location":"api/scheduler/#_2","title":"\u8c03\u5ea6\u5668\u65b9\u6cd5","text":"<p>\u8c03\u5ea6\u5668API\u901a\u8fc7 <code>allay</code> \u5bf9\u8c61\u63d0\u4f9b\u3002</p>"},{"location":"api/scheduler/#allayrunlaterdelay-callback-thisarg","title":"allay.runLater(delay, callback, thisArg)","text":"<p>\u5ef6\u8fdf\u6307\u5b9a\u523b\u6570\u540e\u6267\u884c\u4e00\u6b21\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a - <code>delay</code> - \u5ef6\u8fdf\u7684\u523b\u6570\uff08Number\uff09\uff0c20\u523b=1\u79d2 - <code>callback</code> - \u5ef6\u8fdf\u540e\u8981\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570 - <code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerJoin(player) {\n    player.sendMessage(\"\u6b22\u8fce\u6765\u5230\u670d\u52a1\u5668!\");\n\n    // \u5ef6\u8fdf10\u79d2\uff08200\u523b\uff09\u540e\u53d1\u9001\u6b22\u8fce\u6d88\u606f\n    allay.runLater(200, function() {\n        player.sendMessage(\"\u5e0c\u671b\u4f60\u5728\u670d\u52a1\u5668\u73a9\u5f97\u6109\u5feb!\");\n    }, this);\n}\n</code></pre></p>"},{"location":"api/scheduler/#allayrunrepeatingperiod-callback-thisarg","title":"allay.runRepeating(period, callback, thisArg)","text":"<p>\u6bcf\u9694\u6307\u5b9a\u523b\u6570\u91cd\u590d\u6267\u884c\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a - <code>period</code> - \u91cd\u590d\u6267\u884c\u7684\u95f4\u9694\u523b\u6570\uff08Number\uff09\uff0c20\u523b=1\u79d2 - <code>callback</code> - \u6bcf\u9694\u6307\u5b9a\u523b\u6570\u8981\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570 - <code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onEnable() {\n    console.log(\"\u670d\u52a1\u5668\u76d1\u63a7\u5df2\u542f\u52a8\");\n\n    // \u6bcf\u5206\u949f\uff081200\u523b\uff09\u68c0\u67e5\u4e00\u6b21\u5728\u7ebf\u73a9\u5bb6\u6570\u91cf\n    allay.runRepeating(1200, function() {\n        var onlineCount = getOnlinePlayerCount();\n        var maxPlayers = getMaxPlayers();\n        console.log(\"\u5f53\u524d\u5728\u7ebf\u4eba\u6570: \" + onlineCount + \"/\" + maxPlayers);\n    }, this);\n}\n</code></pre></p>"},{"location":"api/scheduler/#allayrundelayedrepeatingdelay-period-callback-thisarg","title":"allay.runDelayedRepeating(delay, period, callback, thisArg)","text":"<p>\u5ef6\u8fdf\u6307\u5b9a\u523b\u6570\u540e\uff0c\u6bcf\u9694\u6307\u5b9a\u523b\u6570\u91cd\u590d\u6267\u884c\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a - <code>delay</code> - \u521d\u59cb\u5ef6\u8fdf\u7684\u523b\u6570\uff08Number\uff09 - <code>period</code> - \u91cd\u590d\u6267\u884c\u7684\u95f4\u9694\u523b\u6570\uff08Number\uff09 - <code>callback</code> - \u8981\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570 - <code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onEnable() {\n    console.log(\"\u81ea\u52a8\u4fdd\u5b58\u7cfb\u7edf\u5df2\u542f\u52a8\");\n\n    // \u5ef6\u8fdf10\u79d2\uff08200\u523b\uff09\u540e\u5f00\u59cb\u81ea\u52a8\u4fdd\u5b58\uff0c\u7136\u540e\u6bcf\u969430\u79d2\uff08600\u523b\uff09\u4fdd\u5b58\u4e00\u6b21\n    allay.runDelayedRepeating(200, 600, function() {\n        console.log(\"\u5f00\u59cb\u81ea\u52a8\u4fdd\u5b58\u6570\u636e...\");\n        // \u8fd9\u91cc\u53ef\u4ee5\u6dfb\u52a0\u4fdd\u5b58\u6570\u636e\u7684\u903b\u8f91\n        console.log(\"\u81ea\u52a8\u4fdd\u5b58\u5b8c\u6210!\");\n    }, this);\n}\n</code></pre></p>"},{"location":"api/scheduler/#allaycleanup","title":"allay.cleanup()","text":"<p>\u6e05\u7406\u6240\u6709\u4e8b\u4ef6\u76d1\u542c\u548c\u5b9a\u65f6\u4efb\u52a1\uff0c\u5305\u62ec\u6240\u6709\u8c03\u5ea6\u5668\u4efb\u52a1\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>function onDisable() {\n    console.log(\"\u6e05\u7406\u6240\u6709\u4efb\u52a1\");\n    allay.cleanup(); // \u6e05\u7406\u6240\u6709\u4e8b\u4ef6\u76d1\u542c\u548c\u5b9a\u65f6\u4efb\u52a1\n}\n</code></pre></p>"},{"location":"api/scheduler/#_3","title":"\u793a\u4f8b\uff1a\u81ea\u52a8\u5e7f\u64ad\u7cfb\u7edf","text":"<pre><code>function onEnable() {\n    console.log(\"\u81ea\u52a8\u5e7f\u64ad\u7cfb\u7edf\u5df2\u542f\u52a8\");\n\n    // \u5e7f\u64ad\u6d88\u606f\u5217\u8868\n    var messages = [\n        \"\u6b22\u8fce\u6765\u5230\u670d\u52a1\u5668\uff01\",\n        \"\u8bf7\u9075\u5b88\u670d\u52a1\u5668\u89c4\u5219\u3002\",\n        \"\u5982\u6709\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u3002\",\n        \"\u4eab\u53d7\u6e38\u620f\u65f6\u5149\uff01\"\n    ];\n\n    var messageIndex = 0;\n\n    // \u6bcf\u96945\u5206\u949f\uff086000\u523b\uff09\u5e7f\u64ad\u4e00\u6761\u6d88\u606f\n    allay.runRepeating(6000, function() {\n        var message = messages[messageIndex];\n        broadcast(message); // \u5047\u8bbebroadcast\u662f\u4e00\u4e2a\u5e7f\u64ad\u51fd\u6570\n        console.log(\"\u5e7f\u64ad\u6d88\u606f: \" + message);\n\n        messageIndex = (messageIndex + 1) % messages.length;\n    }, this);\n}\n\nfunction onDisable() {\n    console.log(\"\u81ea\u52a8\u5e7f\u64ad\u7cfb\u7edf\u5df2\u7981\u7528\");\n    allay.cleanup();\n}\n</code></pre>"},{"location":"api/scheduler/#_4","title":"\u793a\u4f8b\uff1a\u5012\u8ba1\u65f6\u7cfb\u7edf","text":"<pre><code>function startCountdown(player, seconds, message) {\n    var remaining = seconds;\n\n    // \u53d1\u9001\u521d\u59cb\u6d88\u606f\n    player.sendMessage(message);\n    player.sendMessage(\"\u5012\u8ba1\u65f6\u5f00\u59cb: \" + remaining + \"\u79d2\");\n\n    // \u6bcf\u79d2\u66f4\u65b0\u4e00\u6b21\u5012\u8ba1\u65f6\n    var countdownTask = allay.runRepeating(20, function() {\n        remaining--;\n\n        if (remaining &gt; 0) {\n            player.sendMessage(\"\u5012\u8ba1\u65f6: \" + remaining + \"\u79d2\");\n        } else {\n            player.sendMessage(\"\u5012\u8ba1\u65f6\u7ed3\u675f!\");\n            // \u8fd9\u91cc\u53ef\u4ee5\u6dfb\u52a0\u5012\u8ba1\u65f6\u7ed3\u675f\u540e\u7684\u903b\u8f91\n\n            // \u6e05\u7406\u6240\u6709\u4efb\u52a1\n            allay.cleanup();\n        }\n    }, this);\n}\n\n// \u4f7f\u7528\u793a\u4f8b\nfunction onPlayerCommand(player, command) {\n    if (command === \"/countdown\") {\n        startCountdown(player, 10, \"\u51c6\u5907\u5f00\u59cb\u6d3b\u52a8!\");\n    }\n}\n</code></pre>"},{"location":"api/scheduler/#_5","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u8c03\u5ea6\u5668\u4efb\u52a1\u4f1a\u5728\u811a\u672c\u7981\u7528\u6216\u5378\u8f7d\u65f6\u81ea\u52a8\u6e05\u7406\uff0c\u65e0\u9700\u624b\u52a8\u5904\u7406</li> <li>\u4f7f\u7528 <code>allay.cleanup()</code> \u51fd\u6570\u53ef\u4ee5\u624b\u52a8\u6e05\u7406\u6240\u6709\u8c03\u5ea6\u5668\u4efb\u52a1\u548c\u4e8b\u4ef6\u76d1\u542c</li> <li>\u907f\u514d\u8bbe\u7f6e\u8fc7\u5c0f\u7684\u5ef6\u8fdf\u6216\u95f4\u9694\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5f71\u54cd\u670d\u52a1\u5668\u6027\u80fd</li> <li>\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u56de\u8c03\u51fd\u6570\u4f1a\u963b\u585e\u670d\u52a1\u5668\u4e3b\u7ebf\u7a0b\uff0c\u5efa\u8bae\u4fdd\u6301\u56de\u8c03\u51fd\u6570\u7b80\u6d01\u9ad8\u6548</li> <li>\u8c03\u5ea6\u5668\u4efb\u52a1\u7684\u6267\u884c\u65f6\u95f4\u53ef\u80fd\u4f1a\u56e0\u4e3a\u670d\u52a1\u5668\u8d1f\u8f7d\u800c\u7565\u6709\u5ef6\u8fdf</li> <li>\u91cd\u590d\u6267\u884c\u7684\u4efb\u52a1\u4f1a\u4e00\u76f4\u8fd0\u884c\uff0c\u76f4\u5230\u811a\u672c\u88ab\u7981\u7528\u6216\u5378\u8f7d\uff0c\u6216\u8005\u624b\u52a8\u6e05\u7406</li> <li>\u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\u9ed8\u8ba4\u662f\u5168\u5c40\u5bf9\u8c61\uff0c\u5982\u9700\u6307\u5b9a <code>this</code> \u503c\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>thisArg</code> \u53c2\u6570</li> </ol>"},{"location":"api/server/","title":"\u670d\u52a1\u5668API","text":"<p>\u670d\u52a1\u5668API\u63d0\u4f9b\u4e86\u7ba1\u7406\u548c\u64cd\u4f5c\u670d\u52a1\u5668\u7684\u5404\u79cd\u529f\u80fd\uff0c\u5305\u62ec\u83b7\u53d6\u670d\u52a1\u5668\u4fe1\u606f\u3001\u6267\u884c\u547d\u4ee4\u7b49\u3002</p>"},{"location":"api/server/#_1","title":"\u670d\u52a1\u5668\u4fe1\u606f","text":""},{"location":"api/server/#allaygetserver","title":"allay.getServer()","text":"<p>\u83b7\u53d6\u670d\u52a1\u5668\u5bf9\u8c61\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u670d\u52a1\u5668\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>function onEnable() {\n    var server = allay.getServer();\n    console.log(\"\u670d\u52a1\u5668\u540d\u79f0: \" + server.getName());\n}\n</code></pre></p>"},{"location":"api/server/#allaygetservergetname","title":"allay.getServer().getName()","text":"<p>\u83b7\u53d6\u670d\u52a1\u5668\u7684\u540d\u79f0\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u670d\u52a1\u5668\u540d\u79f0\u5b57\u7b26\u4e32\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onLoad() {\n    var serverName = allay.getServer().getName();\n    console.log(\"\u670d\u52a1\u5668\u540d\u79f0: \" + serverName);\n}\n</code></pre></p>"},{"location":"api/server/#allaygetservergetonlinecount","title":"allay.getServer().getOnlineCount()","text":"<p>\u83b7\u53d6\u5f53\u524d\u5728\u7ebf\u7684\u73a9\u5bb6\u6570\u91cf\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u5728\u7ebf\u73a9\u5bb6\u6570\u91cf\uff08Number\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerJoin(player) {\n    var onlineCount = allay.getServer().getOnlineCount();\n    player.sendMessage(\"\u5f53\u524d\u5728\u7ebf\u73a9\u5bb6\u6570\u91cf: \" + onlineCount);\n}\n</code></pre></p>"},{"location":"api/server/#allaygetservergetmaxplayers","title":"allay.getServer().getMaxPlayers()","text":"<p>\u83b7\u53d6\u670d\u52a1\u5668\u7684\u6700\u5927\u73a9\u5bb6\u6570\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u6700\u5927\u73a9\u5bb6\u6570\uff08Number\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onLoad() {\n    var maxPlayers = allay.getServer().getMaxPlayers();\n    console.log(\"\u670d\u52a1\u5668\u6700\u5927\u73a9\u5bb6\u6570: \" + maxPlayers);\n}\n</code></pre></p>"},{"location":"api/server/#allaygetservergetcurrenttick","title":"allay.getServer().getCurrentTick()","text":"<p>\u83b7\u53d6\u670d\u52a1\u5668\u5f53\u524d\u7684tick\u6570\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u5f53\u524dtick\u6570\uff08Number\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onEnable() {\n    // \u6bcf20tick\uff081\u79d2\uff09\u6267\u884c\u4e00\u6b21\n    allay.runRepeating(20, function() {\n        var tick = allay.getServer().getCurrentTick();\n        console.log(\"\u5f53\u524dtick: \" + tick);\n    });\n}\n</code></pre></p>"},{"location":"api/server/#allaygetservergetversion","title":"allay.getServer().getVersion()","text":"<p>\u83b7\u53d6\u670d\u52a1\u5668\u7684\u7248\u672c\u3002</p> <p>\u8fd4\u56de\u503c\uff1a - \u670d\u52a1\u5668\u7248\u672c\u5b57\u7b26\u4e32\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onLoad() {\n    var version = allay.getServer().getVersion();\n    console.log(\"\u670d\u52a1\u5668\u7248\u672c: \" + version);\n}\n</code></pre></p>"},{"location":"api/server/#_2","title":"\u670d\u52a1\u5668\u64cd\u4f5c","text":""},{"location":"api/server/#allaygetserverbroadcastmessage","title":"allay.getServer().broadcast(message)","text":"<p>\u5411\u6240\u6709\u5728\u7ebf\u73a9\u5bb6\u5e7f\u64ad\u6d88\u606f\u3002</p> <p>\u53c2\u6570\uff1a - <code>message</code> - \u8981\u5e7f\u64ad\u7684\u6d88\u606f\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onEnable() {\n    allay.getServer().broadcast(\"\u670d\u52a1\u5668\u5df2\u542f\u52a8!\");\n}\n</code></pre></p>"},{"location":"api/server/#allaygetserverexecutecommandcommand","title":"allay.getServer().executeCommand(command)","text":"<p>\u6267\u884c\u670d\u52a1\u5668\u547d\u4ee4\u3002</p> <p>\u53c2\u6570\uff1a - <code>command</code> - \u8981\u6267\u884c\u7684\u547d\u4ee4\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u547d\u4ee4\u6267\u884c\u7ed3\u679c\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerCommand(player, command) {\n    if (command == \"/restart\") {\n        var result = allay.getServer().executeCommand(\"save-all\");\n        player.sendMessage(\"\u6267\u884c\u547d\u4ee4\u7ed3\u679c: \" + result);\n        event.cancel();\n    }\n}\n</code></pre></p>"},{"location":"api/server/#allaygetservershutdown","title":"allay.getServer().shutdown()","text":"<p>\u5173\u95ed\u670d\u52a1\u5668\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>function onServerStop() {\n    allay.getServer().broadcast(\"\u670d\u52a1\u5668\u5373\u5c06\u5173\u95ed!\");\n    allay.runLater(200, function() {\n        allay.getServer().shutdown();\n    });\n}\n</code></pre></p>"},{"location":"api/server/#_3","title":"\u793a\u4f8b\uff1a\u670d\u52a1\u5668\u76d1\u63a7\u7cfb\u7edf","text":"<pre><code>// \u670d\u52a1\u5668\u76d1\u63a7\u7cfb\u7edf\u793a\u4f8b\n\nfunction onLoad() {\n    console.log(\"\u670d\u52a1\u5668\u76d1\u63a7\u7cfb\u7edf\u5df2\u52a0\u8f7d\");\n}\n\nfunction onEnable() {\n    console.log(\"\u670d\u52a1\u5668\u76d1\u63a7\u7cfb\u7edf\u5df2\u542f\u7528\");\n\n    // \u6bcf5\u5206\u949f\uff086000\u523b\uff09\u68c0\u67e5\u4e00\u6b21\u670d\u52a1\u5668\u72b6\u6001\n    allay.runRepeating(6000, function() {\n        checkServerStatus();\n    });\n}\n\nfunction onDisable() {\n    console.log(\"\u670d\u52a1\u5668\u76d1\u63a7\u7cfb\u7edf\u5df2\u7981\u7528\");\n    allay.cleanup();\n}\n\nfunction checkServerStatus() {\n    var server = allay.getServer();\n    var onlineCount = server.getOnlineCount();\n    var maxPlayers = server.getMaxPlayers();\n    var version = server.getVersion();\n    var tick = server.getCurrentTick();\n\n    console.log(\"=== \u670d\u52a1\u5668\u72b6\u6001\u62a5\u544a ===\");\n    console.log(\"\u65f6\u95f4: \" + new Date().toLocaleString());\n    console.log(\"\u5728\u7ebf\u73a9\u5bb6: \" + onlineCount + \"/\" + maxPlayers);\n    console.log(\"\u670d\u52a1\u5668\u7248\u672c: \" + version);\n    console.log(\"\u5f53\u524dTick: \" + tick);\n    console.log(\"======================\");\n\n    // \u5982\u679c\u5728\u7ebf\u73a9\u5bb6\u6570\u91cf\u4e3a0\uff0c\u53d1\u9001\u8b66\u544a\n    if (onlineCount === 0) {\n        console.log(\"\u8b66\u544a: \u670d\u52a1\u5668\u5f53\u524d\u6ca1\u6709\u5728\u7ebf\u73a9\u5bb6!\");\n    }\n}\n</code></pre>"},{"location":"api/server/#_4","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u670d\u52a1\u5668API\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u8bf7\u8c28\u614e\u4f7f\u7528\uff0c\u907f\u514d\u5bf9\u670d\u52a1\u5668\u9020\u6210\u4e0d\u5fc5\u8981\u7684\u8d1f\u62c5</li> <li>\u6267\u884c\u547d\u4ee4\u65f6\u8981\u6ce8\u610f\u6743\u9650\u95ee\u9898\uff0c\u907f\u514d\u6267\u884c\u5371\u9669\u547d\u4ee4</li> <li>\u670d\u52a1\u5668\u5173\u95ed\u64cd\u4f5c\u8981\u8c28\u614e\u4f7f\u7528\uff0c\u786e\u4fdd\u5df2\u7ecf\u4fdd\u5b58\u4e86\u6240\u6709\u6570\u636e</li> </ol>"},{"location":"api/utils/","title":"\u5de5\u5177 API","text":"<p>\u5de5\u5177 API \u63d0\u4f9b\u4e86\u5404\u79cd\u5b9e\u7528\u529f\u80fd\uff0c\u5305\u62ec\u65e5\u5fd7\u8bb0\u5f55\u3001\u4e8b\u4ef6\u5904\u7406\u3001\u8c03\u5ea6\u5668\u3001\u6587\u4ef6\u64cd\u4f5c\u3001HTTP \u8bf7\u6c42\u3001JSON \u5904\u7406\u548c\u5bf9\u8c61\u64cd\u4f5c\u7b49\u3002</p>"},{"location":"api/utils/#_1","title":"\u65e5\u5fd7\u8bb0\u5f55","text":"<p>BlocklyAllay \u4f7f\u7528\u6807\u51c6\u7684 JavaScript <code>console</code> \u5bf9\u8c61\u8fdb\u884c\u65e5\u5fd7\u8bb0\u5f55\u3002</p>"},{"location":"api/utils/#consolelogmessage","title":"console.log(message)","text":"<p>\u5728\u63a7\u5236\u53f0\u6253\u5370\u65e5\u5fd7\u6d88\u606f\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>message</code> - \u8981\u6253\u5370\u7684\u6d88\u606f\uff08\u4efb\u610f\u7c7b\u578b\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>console.log(\"\u8fd9\u662f\u4e00\u6761\u65e5\u5fd7\u6d88\u606f\");\nconsole.log(123);\nconsole.log({ key: \"value\" });\n</code></pre>"},{"location":"api/utils/#consoleinfomessage","title":"console.info(message)","text":"<p>\u5728\u63a7\u5236\u53f0\u6253\u5370\u4fe1\u606f\u6d88\u606f\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>message</code> - \u8981\u6253\u5370\u7684\u6d88\u606f\uff08\u4efb\u610f\u7c7b\u578b\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>console.info(\"\u8fd9\u662f\u4e00\u6761\u4fe1\u606f\u6d88\u606f\");\n</code></pre>"},{"location":"api/utils/#consolewarnmessage","title":"console.warn(message)","text":"<p>\u5728\u63a7\u5236\u53f0\u6253\u5370\u8b66\u544a\u6d88\u606f\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>message</code> - \u8981\u6253\u5370\u7684\u6d88\u606f\uff08\u4efb\u610f\u7c7b\u578b\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>console.warn(\"\u8fd9\u662f\u4e00\u6761\u8b66\u544a\u6d88\u606f\");\n</code></pre>"},{"location":"api/utils/#consoleerrormessage","title":"console.error(message)","text":"<p>\u5728\u63a7\u5236\u53f0\u6253\u5370\u9519\u8bef\u6d88\u606f\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>message</code> - \u8981\u6253\u5370\u7684\u6d88\u606f\uff08\u4efb\u610f\u7c7b\u578b\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>console.error(\"\u8fd9\u662f\u4e00\u6761\u9519\u8bef\u6d88\u606f\");\n</code></pre>"},{"location":"api/utils/#consoledebugmessage","title":"console.debug(message)","text":"<p>\u5728\u63a7\u5236\u53f0\u6253\u5370\u8c03\u8bd5\u6d88\u606f\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>message</code> - \u8981\u6253\u5370\u7684\u6d88\u606f\uff08\u4efb\u610f\u7c7b\u578b\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>console.debug(\"\u8fd9\u662f\u4e00\u6761\u8c03\u8bd5\u6d88\u606f\");\n</code></pre>"},{"location":"api/utils/#_2","title":"\u4e8b\u4ef6\u5904\u7406","text":"<p>\u4e8b\u4ef6\u5904\u7406 API \u901a\u8fc7 <code>allay</code> \u5bf9\u8c61\u5b9e\u73b0\u3002</p>"},{"location":"api/utils/#eventcancel","title":"event.cancel()","text":"<p>\u53d6\u6d88\u5f53\u524d\u4e8b\u4ef6\uff08\u4ec5\u5728\u53ef\u53d6\u6d88\u7684\u4e8b\u4ef6\u4e2d\u6709\u6548\uff09\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>function onPlayerChat(player, message) {\n  if (message.includes(\"\u654f\u611f\u8bcd\")) {\n    player.sendMessage(\"\u8bf7\u4e0d\u8981\u4f7f\u7528\u654f\u611f\u8bcd!\");\n    event.cancel(); // \u53d6\u6d88\u804a\u5929\u6d88\u606f\u53d1\u9001\n  }\n}\n</code></pre>"},{"location":"api/utils/#allayoffeventtype","title":"allay.off(eventType)","text":"<p>\u53d6\u6d88\u76d1\u542c\u6307\u5b9a\u4e8b\u4ef6\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>eventType</code> - \u4e8b\u4ef6\u7c7b\u578b\u5b57\u7b26\u4e32</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>allay.off(\"player.join\"); // \u53d6\u6d88\u76d1\u542c\u73a9\u5bb6\u52a0\u5165\u4e8b\u4ef6\n</code></pre>"},{"location":"api/utils/#allaycleanup","title":"allay.cleanup()","text":"<p>\u6e05\u7406\u6240\u6709\u4e8b\u4ef6\u76d1\u542c\u548c\u5b9a\u65f6\u4efb\u52a1\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>allay.cleanup(); // \u6e05\u7406\u6240\u6709\u4e8b\u4ef6\u76d1\u542c\u548c\u5b9a\u65f6\u4efb\u52a1\n</code></pre>"},{"location":"api/utils/#_3","title":"\u8c03\u5ea6\u5668","text":"<p>\u8c03\u5ea6\u5668 API \u901a\u8fc7 <code>allay</code> \u5bf9\u8c61\u5b9e\u73b0\u3002</p>"},{"location":"api/utils/#allayrunlaterdelay-callback-thisarg","title":"allay.runLater(delay, callback, thisArg)","text":"<p>\u5728\u6307\u5b9a tick \u6570\u540e\u6267\u884c\u4e00\u6b21\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>delay</code> - \u5ef6\u8fdf\u7684 tick \u6570\uff08Number\uff09</li> <li><code>callback</code> - \u8981\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570</li> <li><code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>allay.runLater(\n  20,\n  function () {\n    console.log(\"1\u79d2\u540e\u6267\u884c\");\n  },\n  this\n);\n</code></pre>"},{"location":"api/utils/#allayrunrepeatingperiod-callback-thisarg","title":"allay.runRepeating(period, callback, thisArg)","text":"<p>\u6bcf\u9694\u6307\u5b9a tick \u6570\u91cd\u590d\u6267\u884c\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>period</code> - \u91cd\u590d\u6267\u884c\u7684\u95f4\u9694 tick \u6570\uff08Number\uff09</li> <li><code>callback</code> - \u8981\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570</li> <li><code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>allay.runRepeating(\n  20,\n  function () {\n    console.log(\"\u6bcf\u79d2\u6267\u884c\u4e00\u6b21\");\n  },\n  this\n);\n</code></pre>"},{"location":"api/utils/#allayrundelayedrepeatingdelay-period-callback-thisarg","title":"allay.runDelayedRepeating(delay, period, callback, thisArg)","text":"<p>\u5728\u5ef6\u8fdf\u540e\u6bcf\u9694\u6307\u5b9a tick \u6570\u91cd\u590d\u6267\u884c\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>delay</code> - \u521d\u59cb\u5ef6\u8fdf\u7684 tick \u6570\uff08Number\uff09</li> <li><code>period</code> - \u91cd\u590d\u6267\u884c\u7684\u95f4\u9694 tick \u6570\uff08Number\uff09</li> <li><code>callback</code> - \u8981\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570</li> <li><code>thisArg</code> - \u56de\u8c03\u51fd\u6570\u4e2d\u7684 <code>this</code> \u503c\uff08\u53ef\u9009\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>allay.runDelayedRepeating(\n  40,\n  20,\n  function () {\n    console.log(\"2\u79d2\u540e\u5f00\u59cb\uff0c\u6bcf\u79d2\u6267\u884c\u4e00\u6b21\");\n  },\n  this\n);\n</code></pre>"},{"location":"api/utils/#_4","title":"\u6587\u4ef6\u64cd\u4f5c","text":"<p>\u6587\u4ef6\u64cd\u4f5c API \u901a\u8fc7 <code>allay.getFiles()</code> \u5bf9\u8c61\u5b9e\u73b0\u3002</p>"},{"location":"api/utils/#allaygetfilesreadfilepath","title":"allay.getFiles().readFile(path)","text":"<p>\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>path</code> - \u6587\u4ef6\u8def\u5f84\uff08String\uff09</li> </ul> <p>\u8fd4\u56de\u503c\uff1a</p> <ul> <li>\u6587\u4ef6\u5185\u5bb9\u5b57\u7b26\u4e32\uff0c\u6216 null\uff08\u5982\u679c\u8bfb\u53d6\u5931\u8d25\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>var content = allay.getFiles().readFile(\"config.json\");\nif (content) {\n  console.log(\"\u6587\u4ef6\u5185\u5bb9\uff1a\" + content);\n}\n</code></pre>"},{"location":"api/utils/#allaygetfileswritefilepath-content-overwrite","title":"allay.getFiles().writeFile(path, content, overwrite)","text":"<p>\u5199\u5165\u5185\u5bb9\u5230\u6587\u4ef6\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>path</code> - \u6587\u4ef6\u8def\u5f84\uff08String\uff09</li> <li><code>content</code> - \u8981\u5199\u5165\u7684\u5185\u5bb9\uff08String\uff09</li> <li><code>overwrite</code> - \u662f\u5426\u8986\u76d6\u73b0\u6709\u6587\u4ef6\uff08Boolean\uff0c\u9ed8\u8ba4\u4e3a true\uff09</li> </ul> <p>\u8fd4\u56de\u503c\uff1a</p> <ul> <li>\u662f\u5426\u5199\u5165\u6210\u529f\uff08Boolean\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>allay.getFiles().writeFile(\"test.txt\", \"Hello World\", true);\n</code></pre>"},{"location":"api/utils/#allaygetfilesfileexistspath","title":"allay.getFiles().fileExists(path)","text":"<p>\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5b58\u5728\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>path</code> - \u6587\u4ef6\u8def\u5f84\uff08String\uff09</li> </ul> <p>\u8fd4\u56de\u503c\uff1a</p> <ul> <li>\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff08Boolean\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>if (allay.getFiles().fileExists(\"config.json\")) {\n    console.log(\"\u914d\u7f6e\u6587\u4ef6\u5b58\u5728\");\n} else {\n    console.log(\"\u914d\u7f6e\u6587\u4ef6\u4e0d\u5b58\u5728\");\n}\n</code></pre>"},{"location":"api/utils/#allaygetfilesdeletefilepath","title":"allay.getFiles().deleteFile(path)","text":"<p>\u5220\u9664\u6307\u5b9a\u6587\u4ef6\u3002</p> <p>\u53c2\u6570\uff1a - <code>path</code> - \u6587\u4ef6\u8def\u5f84\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>allay.getFiles().deleteFile(\"temp.txt\");\n</code></pre></p>"},{"location":"api/utils/#allaygetfileslistfilespath","title":"allay.getFiles().listFiles(path)","text":"<p>\u5217\u51fa\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u3002</p> <p>\u53c2\u6570\uff1a - <code>path</code> - \u76ee\u5f55\u8def\u5f84\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u6587\u4ef6\u5217\u8868\u6570\u7ec4\uff08Array\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var files = allay.getFiles().listFiles(\".\");\nfiles.forEach(function(file) {\n    console.log(\"\u6587\u4ef6\uff1a\" + file);\n});\n</code></pre></p>"},{"location":"api/utils/#http","title":"HTTP\u8bf7\u6c42","text":"<p>HTTP\u8bf7\u6c42API\u901a\u8fc7 <code>allay.getHttp()</code> \u5bf9\u8c61\u5b9e\u73b0\u3002</p>"},{"location":"api/utils/#allaygethttpgeturl","title":"allay.getHttp().get(url)","text":"<p>\u53d1\u9001HTTP GET\u8bf7\u6c42\u3002</p> <p>\u53c2\u6570\uff1a - <code>url</code> - \u8bf7\u6c42URL\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u54cd\u5e94\u5185\u5bb9\u5b57\u7b26\u4e32\uff0c\u6216null\uff08\u5982\u679c\u8bf7\u6c42\u5931\u8d25\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var response = allay.getHttp().get(\"https://api.example.com/data\");\nif (response) {\n    console.log(\"GET\u54cd\u5e94\uff1a\" + response);\n}\n</code></pre></p>"},{"location":"api/utils/#allaygethttpposturl-body-contenttype","title":"allay.getHttp().post(url, body, contentType)","text":"<p>\u53d1\u9001HTTP POST\u8bf7\u6c42\u3002</p> <p>\u53c2\u6570\uff1a - <code>url</code> - \u8bf7\u6c42URL\uff08String\uff09 - <code>body</code> - \u8bf7\u6c42\u6b63\u6587\uff08String\uff09 - <code>contentType</code> - \u8bf7\u6c42\u5185\u5bb9\u7c7b\u578b\uff08String\uff0c\u9ed8\u8ba4\uff1a\"application/json\"\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u54cd\u5e94\u5185\u5bb9\u5b57\u7b26\u4e32\uff0c\u6216null\uff08\u5982\u679c\u8bf7\u6c42\u5931\u8d25\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>var response = allay.getHttp().post(\n    \"https://api.example.com/data\", \n    JSON.stringify({key: \"value\"}), \n    \"application/json\"\n);\nif (response) {\n    console.log(\"POST\u54cd\u5e94\uff1a\" + response);\n}\n</code></pre></p>"},{"location":"api/utils/#json","title":"JSON\u5904\u7406","text":"<p>JSON\u5904\u7406API\u4f7f\u7528\u6807\u51c6\u7684JavaScript <code>JSON</code> \u5bf9\u8c61\u3002</p>"},{"location":"api/utils/#jsonparsetext","title":"JSON.parse(text)","text":"<p>\u5c06JSON\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3aJavaScript\u5bf9\u8c61\u3002</p> <p>\u53c2\u6570\uff1a - <code>text</code> - JSON\u5b57\u7b26\u4e32\uff08String\uff09</p> <p>\u8fd4\u56de\u503c\uff1a - \u89e3\u6790\u540e\u7684JavaScript\u5bf9\u8c61</p> <p>\u793a\u4f8b\uff1a <pre><code>var jsonStr = '{\"name\": \"\u6d4b\u8bd5\", \"value\": 123}';\nvar obj = JSON.parse(jsonStr);\nconsole.log(obj.name); // \u8f93\u51fa\uff1a\u6d4b\u8bd5\n</code></pre></p>"},{"location":"api/utils/#jsonstringifyvalue","title":"JSON.stringify(value)","text":"<p>\u5c06JavaScript\u5bf9\u8c61\u8f6c\u6362\u4e3aJSON\u5b57\u7b26\u4e32\u3002</p> <p>\u53c2\u6570\uff1a - <code>value</code> - \u8981\u8f6c\u6362\u7684JavaScript\u5bf9\u8c61</p> <p>\u8fd4\u56de\u503c\uff1a - JSON\u5b57\u7b26\u4e32</p> <p>\u793a\u4f8b\uff1a <pre><code>var obj = {name: \"\u6d4b\u8bd5\", value: 123};\nvar jsonStr = JSON.stringify(obj);\nconsole.log(jsonStr); // \u8f93\u51fa\uff1a{\"name\":\"\u6d4b\u8bd5\",\"value\":123}\n</code></pre></p>"},{"location":"api/utils/#_5","title":"\u5bf9\u8c61\u64cd\u4f5c","text":"<p>\u5bf9\u8c61\u64cd\u4f5c\u4f7f\u7528JavaScript\u539f\u751f\u8bed\u6cd5\u3002</p>"},{"location":"api/utils/#_6","title":"\u521b\u5efa\u5bf9\u8c61","text":"<p>\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7a7a\u5bf9\u8c61\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>var obj = {};\nvar objWithProps = {name: \"\u6d4b\u8bd5\", value: 123};\n</code></pre></p>"},{"location":"api/utils/#_7","title":"\u83b7\u53d6\u5bf9\u8c61\u5c5e\u6027","text":"<p>\u83b7\u53d6\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>var obj = {name: \"\u6d4b\u8bd5\"};\nvar name = obj.name; // \u6216 obj[\"name\"]\nconsole.log(name); // \u8f93\u51fa\uff1a\u6d4b\u8bd5\n</code></pre></p>"},{"location":"api/utils/#_8","title":"\u8bbe\u7f6e\u5bf9\u8c61\u5c5e\u6027","text":"<p>\u8bbe\u7f6e\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>var obj = {};\nobj.name = \"\u6d4b\u8bd5\"; // \u6216 obj[\"name\"] = \"\u6d4b\u8bd5\"\n</code></pre></p>"},{"location":"api/utils/#_9","title":"\u68c0\u67e5\u5bf9\u8c61\u5c5e\u6027","text":"<p>\u68c0\u67e5\u5bf9\u8c61\u662f\u5426\u5305\u542b\u6307\u5b9a\u5c5e\u6027\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>var obj = {name: \"\u6d4b\u8bd5\"};\nif (\"name\" in obj) {\n    console.log(\"\u5bf9\u8c61\u5305\u542bname\u5c5e\u6027\");\n}\n</code></pre></p>"},{"location":"api/utils/#_10","title":"\u5220\u9664\u5bf9\u8c61\u5c5e\u6027","text":"<p>\u5220\u9664\u5bf9\u8c61\u7684\u6307\u5b9a\u5c5e\u6027\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>var obj = {name: \"\u6d4b\u8bd5\"};\ndelete obj.name;\n</code></pre></p>"},{"location":"api/world/","title":"\u4e16\u754c API","text":"<p>\u4e16\u754c API \u63d0\u4f9b\u4e86\u7ba1\u7406\u548c\u64cd\u4f5c\u6e38\u620f\u4e16\u754c\u7684\u5404\u79cd\u529f\u80fd\uff0c\u5305\u62ec\u83b7\u53d6\u4e16\u754c\u4fe1\u606f\u3001\u8bbe\u7f6e\u65f6\u95f4\u3001\u5e7f\u64ad\u6d88\u606f\u7b49\u3002</p>"},{"location":"api/world/#_1","title":"\u670d\u52a1\u5668\u4fe1\u606f","text":""},{"location":"api/world/#allaygetservergetonlinecount","title":"allay.getServer().getOnlineCount()","text":"<p>\u83b7\u53d6\u5f53\u524d\u5728\u7ebf\u7684\u73a9\u5bb6\u6570\u91cf\u3002</p> <p>\u8fd4\u56de\u503c\uff1a</p> <ul> <li>\u5728\u7ebf\u73a9\u5bb6\u6570\u91cf\uff08Number\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>function onPlayerJoin(player) {\n  var onlineCount = allay.getServer().getOnlineCount();\n  player.sendMessage(\"\u5f53\u524d\u5728\u7ebf\u73a9\u5bb6\u6570\u91cf: \" + onlineCount);\n}\n</code></pre>"},{"location":"api/world/#allaygetservergetmaxplayers","title":"allay.getServer().getMaxPlayers()","text":"<p>\u83b7\u53d6\u670d\u52a1\u5668\u7684\u6700\u5927\u73a9\u5bb6\u6570\u3002</p> <p>\u8fd4\u56de\u503c\uff1a</p> <ul> <li>\u6700\u5927\u73a9\u5bb6\u6570\uff08Number\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>function onLoad() {\n  var maxPlayers = allay.getServer().getMaxPlayers();\n  console.log(\"\u670d\u52a1\u5668\u6700\u5927\u73a9\u5bb6\u6570: \" + maxPlayers);\n}\n</code></pre>"},{"location":"api/world/#allaygetservergetcurrenttick","title":"allay.getServer().getCurrentTick()","text":"<p>\u83b7\u53d6\u670d\u52a1\u5668\u5f53\u524d\u7684 tick \u6570\u3002</p> <p>\u8fd4\u56de\u503c\uff1a</p> <ul> <li>\u5f53\u524d tick \u6570\uff08Number\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>function onEnable() {\n  // \u6bcf20tick\uff081\u79d2\uff09\u6267\u884c\u4e00\u6b21\n  allay.runRepeating(20, function () {\n    var tick = allay.getServer().getCurrentTick();\n    console.log(\"\u5f53\u524dtick: \" + tick);\n  });\n}\n</code></pre>"},{"location":"api/world/#_2","title":"\u4e16\u754c\u7ba1\u7406","text":""},{"location":"api/world/#allaygetworlds","title":"allay.getWorlds()","text":"<p>\u83b7\u53d6\u670d\u52a1\u5668\u4e0a\u6240\u6709\u4e16\u754c\u7684\u5217\u8868\u3002</p> <p>\u8fd4\u56de\u503c\uff1a</p> <ul> <li>\u4e16\u754c\u5bf9\u8c61\u6570\u7ec4\uff08Array\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>function onLoad() {\n  var worlds = allay.getWorlds();\n  console.log(\"\u670d\u52a1\u5668\u4e0a\u7684\u4e16\u754c\u6570\u91cf: \" + worlds.length);\n  worlds.forEach(function (world) {\n    console.log(\"\u4e16\u754c\u540d\u79f0: \" + world.getName());\n  });\n}\n</code></pre>"},{"location":"api/world/#allaygetworldname","title":"allay.getWorld(name)","text":"<p>\u6839\u636e\u4e16\u754c\u540d\u79f0\u83b7\u53d6\u4e16\u754c\u5bf9\u8c61\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>name</code> - \u4e16\u754c\u540d\u79f0\uff08String\uff09</li> </ul> <p>\u8fd4\u56de\u503c\uff1a</p> <ul> <li>\u4e16\u754c\u5bf9\u8c61\uff0c\u5982\u679c\u4e16\u754c\u4e0d\u5b58\u5728\u5219\u8fd4\u56de null</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>function onEnable() {\n  var mainWorld = allay.getWorld(\"world\");\n  if (mainWorld) {\n    console.log(\"\u4e3b\u4e16\u754c\u65f6\u95f4: \" + mainWorld.getTimeOfDay());\n  } else {\n    console.log(\"\u4e3b\u4e16\u754c\u4e0d\u5b58\u5728!\");\n  }\n}\n</code></pre>"},{"location":"api/world/#worldgetname","title":"world.getName()","text":"<p>\u83b7\u53d6\u4e16\u754c\u7684\u540d\u79f0\u3002</p> <p>\u8fd4\u56de\u503c\uff1a</p> <ul> <li>\u4e16\u754c\u540d\u79f0\uff08String\uff09</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>function onWorldLoad(world) {\n  console.log(\"\u4e16\u754c \" + world.getName() + \" \u5df2\u52a0\u8f7d\");\n}\n</code></pre>"},{"location":"api/world/#worldgettimeofday","title":"world.getTimeOfDay()","text":"<p>\u83b7\u53d6\u4e16\u754c\u7684\u65f6\u95f4\u3002</p> <p>\u8fd4\u56de\u503c\uff1a</p> <ul> <li>\u4e16\u754c\u65f6\u95f4\uff08Number\uff09\uff0c\u8303\u56f4\uff1a0-24000</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>function onEnable() {\n  var worlds = allay.getWorlds();\n  worlds.forEach(function (world) {\n    var time = world.getTimeOfDay();\n    console.log(world.getName() + \" \u7684\u65f6\u95f4: \" + time);\n  });\n}\n</code></pre>"},{"location":"api/world/#worldsettimeofdaytime","title":"world.setTimeOfDay(time)","text":"<p>\u8bbe\u7f6e\u4e16\u754c\u7684\u65f6\u95f4\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>time</code> - \u65f6\u95f4\u503c\uff08Number\uff09\uff0c\u8303\u56f4\uff1a0-24000</li> </ul> <p>**\u65f6\u95f4\u503c\u8bf4\u660e \uff1a** - 0 - \u65e5\u51fa - 6000 - \u4e2d\u5348 - 12000 - \u65e5\u843d - 18000 - \u5348\u591c</p> <p>\u793a\u4f8b\uff1a <pre><code>function onPlayerCommand(player, command) {\n    if (command === \"/setday\") {\n        var world = player.getWorld();\n        world.setTimeOfDay(6000); // \u8bbe\u7f6e\u4e3a\u4e2d\u5348\n        allay.broadcast(\"\u65f6\u95f4\u5df2\u8bbe\u7f6e\u4e3a\u767d\u5929!\");\n        event.cancel();\n    } else if (command === \"/setnight\") {\n        var world = player.getWorld();\n        world.setTimeOfDay(18000); // \u8bbe\u7f6e\u4e3a\u5348\u591c\n        allay.broadcast(\"\u65f6\u95f4\u5df2\u8bbe\u7f6e\u4e3a\u591c\u665a!\");\n        event.cancel();\n    }\n}\n</code></pre></p>"},{"location":"api/world/#_3","title":"\u6d88\u606f\u5e7f\u64ad","text":""},{"location":"api/world/#allaybroadcastmessage","title":"allay.broadcast(message)","text":"<p>\u5411\u6240\u6709\u5728\u7ebf\u73a9\u5bb6\u5e7f\u64ad\u6d88\u606f\u3002</p> <p>\u53c2\u6570\uff1a - <code>message</code> - \u8981\u5e7f\u64ad\u7684\u6d88\u606f\uff08String\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>function onServerStop() {\n    allay.broadcast(\"\u670d\u52a1\u5668\u5373\u5c06\u505c\u6b62\uff0c\u8bf7\u505a\u597d\u51c6\u5907!\");\n    // \u5ef6\u8fdf10\u79d2\u540e\u5173\u95ed\u670d\u52a1\u5668\n    allay.runLater(200, function() {\n        allay.broadcast(\"\u670d\u52a1\u5668\u6b63\u5728\u5173\u95ed...\")\n    });\n}\n</code></pre></p>"},{"location":"api/world/#_4","title":"\u793a\u4f8b\uff1a\u4e16\u754c\u65f6\u95f4\u7ba1\u7406\u7cfb\u7edf","text":"<pre><code>// \u4e16\u754c\u65f6\u95f4\u7ba1\u7406\u7cfb\u7edf\u793a\u4f8b\n\nvar timeSettings = {\n    dayStart: 0,\n    dayEnd: 12000,\n    nightStart: 12000,\n    nightEnd: 24000\n};\n\nfunction onLoad() {\n    console.log(\"\u4e16\u754c\u65f6\u95f4\u7ba1\u7406\u7cfb\u7edf\u5df2\u52a0\u8f7d\");\n}\n\nfunction onEnable() {\n    console.log(\"\u4e16\u754c\u65f6\u95f4\u7ba1\u7406\u7cfb\u7edf\u5df2\u542f\u7528\");\n\n    // \u6bcf100tick\uff085\u79d2\uff09\u68c0\u67e5\u4e00\u6b21\u65f6\u95f4\n    allay.runRepeating(100, function() {\n        checkWorldTimes();\n    });\n}\n\nfunction onDisable() {\n    console.log(\"\u4e16\u754c\u65f6\u95f4\u7ba1\u7406\u7cfb\u7edf\u5df2\u7981\u7528\");\n    allay.cleanup();\n}\n\nfunction checkWorldTimes() {\n    var worlds = allay.getWorlds();\n    worlds.forEach(function(world) {\n        var time = world.getTimeOfDay();\n        var worldName = world.getName();\n\n        if (time &gt;= timeSettings.dayStart &amp;&amp; time &lt; timeSettings.dayEnd) {\n            console.log(worldName + \" \u73b0\u5728\u662f\u767d\u5929\");\n            // \u53ef\u4ee5\u5728\u8fd9\u91cc\u6dfb\u52a0\u767d\u5929\u7684\u7279\u6b8a\u6548\u679c\n        } else {\n            console.log(worldName + \" \u73b0\u5728\u662f\u591c\u665a\");\n            // \u53ef\u4ee5\u5728\u8fd9\u91cc\u6dfb\u52a0\u591c\u665a\u7684\u7279\u6b8a\u6548\u679c\n        }\n    });\n}\n</code></pre>"},{"location":"api/world/#_5","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u4e0d\u540c\u4e16\u754c\u7684\u65f6\u95f4\u662f\u72ec\u7acb\u7684\uff0c\u53ef\u4ee5\u5206\u522b\u8bbe\u7f6e</li> <li>\u65f6\u95f4\u503c\u8303\u56f4\u4e3a0-24000\uff0c\u8d85\u8fc7\u8303\u56f4\u4f1a\u81ea\u52a8\u5faa\u73af</li> <li>\u4e16\u754c\u5bf9\u8c61\u5728\u4e16\u754c\u5378\u8f7d\u540e\u4f1a\u5931\u6548\uff0c\u6ce8\u610f\u68c0\u67e5\u4e16\u754c\u662f\u5426\u5b58\u5728</li> <li>\u5e7f\u64ad\u6d88\u606f\u4f1a\u53d1\u9001\u7ed9\u6240\u6709\u5728\u7ebf\u73a9\u5bb6\uff0c\u5305\u62ec\u63a7\u5236\u53f0</li> <li>\u4f7f\u7528<code>getWorld(name)</code>\u83b7\u53d6\u4e16\u754c\u65f6\uff0c\u5efa\u8bae\u68c0\u67e5\u8fd4\u56de\u503c\u662f\u5426\u4e3anull</li> <li>\u4e16\u754c\u76f8\u5173\u64cd\u4f5c\u53ef\u80fd\u4f1a\u5f71\u54cd\u670d\u52a1\u5668\u6027\u80fd\uff0c\u907f\u514d\u9891\u7e41\u6267\u884c\u590d\u6742\u7684\u4e16\u754c\u64cd\u4f5c</li> </ol>"}]}